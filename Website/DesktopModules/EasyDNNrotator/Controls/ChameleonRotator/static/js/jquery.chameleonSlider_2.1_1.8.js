(function(k,z,L){var V=function(k,b){return-1!==k.indexOf(b,k.length-b.length)};k.fn.chameleonSlider_2_1=function(t){var b=k.extend(!0,{},{content_source:"",container_dimensions:{width:750,height:400,w_as_ratio:!1,h_as_ratio:!1,height_references_width:!1},autoplay:{enable:!0,interval:4E3,pause_on_hover:!0,autostart_video_playback:!1,indicator:{display:!0,position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1},dimensions:{height:2,
width:750,h_as_ratio:!1,w_as_ratio:!1},orientation:"horizontal",flip_direction:!1}},arrows:{display:!0,auto_hide:!0,hide_speed:250,prev:{position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:183,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},next:{position:{vertical:"top",horizontal:"right",h_offset:0,v_offset:183,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},autoplay_toggle:{display:!0,auto_hide:!0,hide_speed:250,position:{vertical:"top",horizontal:"left",
h_offset:347,v_offset:130,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},scrollable_boxes:{item_info:{display:!0,container:{dimensions:{height:100,width:750,h_as_ratio:!1,w_as_ratio:!1},resize_to_content:!0,show_on_hover:!1,position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:2,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},gallery_info:{display:!1,container:{dimensions:{height:100,width:750,h_as_ratio:!1,w_as_ratio:!1},resize_to_content:!0,show_on_hover:!1,
position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:2,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}}},thumbs:{display:!0,auto_hide:!1,hide_speed:250,width:100,height:46,captions:!0,display_item_types:!1,pagination:{direction:"horizontal",duration:250,easing:"swing"},tooltips:{enabled:!1,title:!0,description:!1,position:{my:"bottom center",at:"top center"},classes:""},container:{transparent:!0,dimensions:{height:20,width:679,h_as_ratio:!1,w_as_ratio:!1},position:{vertical:"bottom",
horizontal:"left",h_offset:35,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},categories:{display:!1,auto_hide:!1,hide_speed:250,width:100,height:46,pagination:{direction:"horizontal",duration:250,easing:"swing"},container:{dimensions:{height:20,width:679,h_as_ratio:!1,w_as_ratio:!1},position:{vertical:"bottom",horizontal:"left",h_offset:35,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},pagination:{display:!0,pages_at_once:7,direction:"horizontal",
position:{vertical:"bottom",horizontal:"right",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},title_boxes:{current_item:{display:!1,height:35,position:{vertical:"bottom",horizontal:"left",h_offset:0,v_offset:200,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},current_gallery:{display:!1,height:35,position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},buttons:{email:{display:!1,
position:{vertical:"top",horizontal:"right",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1},email_subject:"Look at this link"},download:{display:!1,position:{vertical:"top",horizontal:"left",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},fullscreen:{display:!1,position:{vertical:"top",horizontal:"left",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}},exit_fullscreen:{display:!1,
position:{vertical:"bottom",horizontal:"right",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1}}},social_buttons:{display:!1,direction:"horizontal",load_after_effect:!0,position:{vertical:"bottom",horizontal:"right",h_offset:35,v_offset:58,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1},buttons:{facebook:{display:!0,html:'<iframe src="//www.facebook.com/plugins/like.php?href={location_href_encoded}&amp;layout=button_count&amp;show_faces=true&amp;action=like&amp;font&amp;colorscheme=light&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; height:20px; width: 100px;" allowTransparency="true"></iframe>'},
google:{display:!0,html:'<g:plusone size="medium" href="{location_href}" annotation="bubble"></g:plusone><script type="text/javascript">gapi.plusone.go();\x3c/script>'},twitter:{display:!0,html:'<a href="//twitter.com/share" class="twitter-share-button" data-url="{location_href}" data-count="horizontal">Tweet</a><script type="text/javascript" src="//platform.twitter.com/widgets.js">\x3c/script>'}},hideable:!1,container:{width:100,height:100}},main_panel:{display:!0,fill_panel:!1,stretch_small_image:!1,
top_left_align:!1,drag_navigation:!1,immediately_preload_all_images:!1,dimensions:{width:750,height:400,h_as_ratio:!1,w_as_ratio:!1},position:{vertical:"top",horizontal:"left",h_offset:0,v_offset:0,h_as_ratio:!1,v_as_ratio:!1,v_center_point:!1,h_center_point:!1},trim:{top:0,bottom:0,left:0,right:0},transition:{duration:800,effects:[]}},lightbox_title:!1,lightbox_description:!1,key_browse:!0,redirect_on_click:!1,redirect_on_click_target:"_self",lightbox_on_click:!1,module_id:0,portal_id:0,article_id:0,
filter_values:"",filter_types:"",locale:"",inhouse_player:"flowplayer",flowplayer_src:"",fullscreen_provider:"pp",pretty_photo_options:{},smb_options:{},smbLight_options:{},cycle_current_category:!0,open_at:null,modify_browser_history:!1,videoVolume:1},t),v=z.history.location||z.location;return this.each(function(){var x,m,p=k(this),t,da,ea=0,P=k('<div class="loading_slider_overlay" />'),Y=k('<div class="indicator" />'),K=k("<p />"),A,h={},n={},Z=0,f={},u,r,G=k(),H,aa,B,F,W,y,M,C,D,E,N="",fa=0,ga=
0,ha=0,Q=0,S=!1,O=!1,ia=!1,ba=!1,X=!1,T=!1,I,J,c={container_dimensions:{},thumbs:{page:{vertical_space:0,horizontal_space:0,width:0,height:0,count:0},container:{},width:0,height:0,per_page:0,per_row:0,row_count:0,window_width:0,window_height:0},categories:{page:{vertical_space:0,horizontal_space:0,width:0,height:0,count:0},container:{},width:0,height:0,per_page:0,per_row:0,row_count:0,window_width:0,window_height:0,render_categories:!0},autoplay:{indicator:{}},title_boxes:{current_item:{},current_gallery:{}},
scrollable_boxes:{item_info:{},gallery_info:{}},pagination:{pages_at_once:0,page:{width:0,height:0}},main_panel:{dimensions:{},initialized:!1,disable_clicking:!1,disable_clicking_interval:""},preloaded_images:{},preloading_item:!1,buttons:{email:{},download:{},fullscreen:{},exit_fullscreen:{}},html5:{video:!1},youtube_iframe_api:{called:!1,loaded:!1},youtube_player_object:void 0,mouse_entered:!1,item_details_shown:!1},ja=function(a){var b=a.src;if(a.sizes)for(var d=0,g=a.sizes.length;d<g;d++){var w=
a.sizes[d];if(w.width<c.main_panel.dimensions.width)break;b=w.src}return b},R=function(a){"number"==typeof a&&(a=h.items[a]);return"image"==a.type||("video"==a.type||"audio"==a.type)&&b.lightbox_on_click},d={init:function(){b.container_dimensions.w_as_ratio||b.container_dimensions.h_as_ratio?(t=p.parent(),c.container_dimensions={width:b.container_dimensions.w_as_ratio?Math.round(t.width()*b.container_dimensions.width):b.container_dimensions.width,height:0},c.container_dimensions.height=b.container_dimensions.h_as_ratio?
Math.round((b.container_dimensions.height_references_width?c.container_dimensions.width:t.height())*b.container_dimensions.height):b.container_dimensions.height,k(z).bind("resize.chameleonSlider",function(){clearTimeout(da);da=setTimeout(function(){c.container_dimensions={width:b.container_dimensions.w_as_ratio?Math.round(t.width()*b.container_dimensions.width):b.container_dimensions.width,height:0};c.container_dimensions.height=b.container_dimensions.h_as_ratio?Math.round((b.container_dimensions.height_references_width?
c.container_dimensions.width:t.height())*b.container_dimensions.height):b.container_dimensions.height;p.trigger("resize_slider")},200)})):c.container_dimensions={width:b.container_dimensions.width,height:b.container_dimensions.height};p.width(c.container_dimensions.width).height(c.container_dimensions.height).append(P).bind("destroy",function(){clearTimeout(N)});P.width(c.container_dimensions.width).height(c.container_dimensions.height).append(Y).show(0);try{c.html5.video=!!L.createElement("video").canPlayType}catch(a){}if(b.modify_browser_history)k(z).on("popstate",
function(a){d.parse_slider_url_hash(v.hash);d.show_item(n.index,!0,void 0,!0)});d.get_content_source()},get_content_source:function(){3<ea?K.is(":visible")?K.html("Unable to display the items (requesting the items failed)"):Y.fadeOut(250,function(){K=k("<p>Unable to display the items (requesting the items failed)</p>");K.appendTo(P).css({display:"block",top:Math.floor((c.container_dimensions.height-K.outerHeight(!0))/2)})}):(ea+=1,k.ajax({dataType:"json",type:"get",url:b.content_source,timeout:3E5,
data:"mid="+b.module_id+"&portal_id="+b.portal_id+"&locale="+b.locale+"&article_id="+b.article_id+"&html5_player="+(c.html5.video?"1":"0")+(""===b.filter_values?"":"&filter_values="+b.filter_values+"&filter_types="+b.filter_types),success:d.load,complete:d.ajax_callback,cache:!1}))},ajax_callback:function(a,b){"success"!==b&&d.get_content_source()},parse_slider_url_hash:function(a){var b=a.substring(1);a=b.indexOf("/");var c=void 0,b=b.substring(a+1);a=b.indexOf("/");-1!==a&&(c=b.substring(a+1),a=
c.indexOf("/"),-1!==a&&(c=c.substring(0,a)),c||(c=void 0),b=b.substring(0,b.indexOf("/")));x=b.split("-");m=[];m=d.category_indexes_from_ids(k.extend([],x),A);0==m.length&&(m=[0],x=[A[0].id]);h=d.get_category(m);h.item_count=h.items.length;n={id:0,index:d.item_index_from_id(c)};n.id=h.items[n.index].id},load:function(a){var e=v.hash.substring(1),l=e.indexOf("/"),l=-1==l?"":e.substring(0,l);0==a.content.length?Y.fadeOut(250,function(){K=k("<p>"+(a.user_friendly_msg?a.user_friendly_msg:"There are no items to display.")+
"</p>");K.appendTo(P).css({display:"block",top:Math.floor((c.container_dimensions.height-K.outerHeight(!0))/2)})}):(A=a.content,null!=b.open_at?(x=b.open_at.categories,m=[],m=d.category_indexes_from_ids(k.extend([],x),A),0==m.length&&(m=[0],x=[A[0].id]),h=d.get_category(m),h.item_count=h.items.length,n={id:0,index:d.item_index_from_id(b.open_at.item)},n.id=h.items[n.index].id):l=="slider_"+b.module_id||l=="gallery_"+b.module_id?(d.parse_slider_url_hash("#"+e),"smb"==b.fullscreen_provider&&l=="gallery_"+
b.module_id&&0<h.item_count&&function(){var a=[];b.smb_options.openAt=0;k.each(h.items,function(c,e){e.id===n.id&&(b.smb_options.openAt=c);a.push(e.smb_object)});k("<div />").data("socialMediaBox",a).socialMediaBox(b.smb_options)}()):(x=[A[0].id],m=[0],h=A[0],h.item_count=h.items.length,n={id:void 0,index:d.item_index_from_id(void 0)}),"YT"in z&&"Player"in z.YT&&(c.youtube_iframe_api.called=!0,c.youtube_iframe_api.loaded=!0),b.buttons.exit_fullscreen.display&&d.exit_fullscreen.init(),b.autoplay.enable&&
d.autoplay.init(),b.pagination.display&&d.pagination.init(),b.social_buttons.display&&d.social_buttons.init(),b.buttons.email.display&&d.email_button.init(),b.buttons.download.display&&d.download_button.init(),b.buttons.fullscreen.display&&d.fullscreen_button.init(),b.autoplay_toggle.display&&d.autoplay_toggle.init(),b.arrows.display&&d.arrows.init(),b.categories.display&&d.categories.init(),b.thumbs.display&&d.thumbnails.init(),b.title_boxes.current_item.display&&d.item_title.init(),b.title_boxes.current_gallery.display&&
d.gallery_title.init(),b.scrollable_boxes.item_info.display&&d.item_info.init(),b.scrollable_boxes.gallery_info.display&&d.gallery_info.init(),b.main_panel.display?d.main_panel.init():d.triggers())},show_item:function(a,e,l,g){a=parseInt(a,10);if(a!==n.index||"undefined"!=typeof e){"function"==typeof d._on_pre_item_change&&(d._on_pre_item_change(),d._on_pre_item_change=void 0);T=!1;0>a?a=h.item_count-1:a>=h.item_count&&(a=0);d.autoplay.reset();Z=n.index;e=h.items[a];n.index=a;n.id=e.id;d.pagination.select(a);
d.thumbnails.select(a);c.item_details_shown=!1;if(b.main_panel.immediately_preload_all_images||R(e)&&c.preloaded_images[e.src]&&c.preloaded_images[e.src].loaded)c.item_details_shown=!0,d.social_buttons.display(a),d.item_title.select(a),d.item_info.display(a),d.download_button.display(a),d.email_button.display(a);b.modify_browser_history&&!g&&(g=v.href.indexOf("#"),g=-1==g?v.href:v.href.substring(0,g),g+="#slider_"+b.module_id+"/"+x.join("-")+"/"+n.id,history.pushState(null,null,g));b.main_panel.display?
c.preloading_item||("undefined"==typeof l?d.main_panel.display(a):d.main_panel.display(a,l)):p.trigger("slider_transition_finnished")}},next:function(){var a,e=A.length;b.cycle_current_category||n.index!=h.item_count-1?d.show_item(n.index+1):(a=m.pop()+1,0!=m.length&&(e=d.get_category(m).children.length),a<e?m.push(a):m.push(0),x=d.category_ids_from_indexes(m),h=d.get_category(m),h.item_count=h.items.length,n={id:h.items[0].id,index:0},c.categories.render_categories=!1,d.change_category())},prev:function(){var a,
e=A.length;b.cycle_current_category||0!=n.index?d.show_item(n.index-1):(a=m.pop()-1,0!=m.length&&(e=d.get_category(m).children.length),0>a?m.push(e-1):m.push(a),x=d.category_ids_from_indexes(m),h=d.get_category(m),h.item_count=h.items.length,n={id:h.items[h.items.length-1].id,index:h.items.length-1},c.categories.render_categories=!1,d.change_category())},pagination:{init:function(){var a;B=k('<div class="pagination" />');F=k('<ul class="pages_container" />');B.append(F);B.css("visibility","hidden");
p.prepend(B);d.position_element(B,b.pagination.position);a=k("<li><span></span></li>");F.append(a);c.pagination.page.width=a.outerWidth(!0);c.pagination.page.height=a.outerHeight(!0);B.css("visibility","");d.pagination.display_category();d.pagination.select(n.index);F.delegate("li","click",function(){d.show_item(k(this).index());return!1})},display_category:function(){if(b.pagination.display){var a=0,e="";B.css("display","none");F.html("");c.pagination.pages_at_once=h.item_count<b.pagination.pages_at_once?
h.item_count:b.pagination.pages_at_once;"horizontal"===b.pagination.direction?(B.addClass("horizontal"),B.width(c.pagination.pages_at_once*c.pagination.page.width),B.height(c.pagination.page.height),F.width(h.item_count*c.pagination.page.width),F.height(c.pagination.page.height)):(B.addClass("vertical"),B.width(c.pagination.page.width),B.height(c.pagination.pages_at_once*c.pagination.page.height),F.width(c.pagination.page.width),F.height(h.item_count*c.pagination.page.height));for(;a<h.item_count;a++)e+=
"<li><span></span></li>";W=k(e);F.append(W);B.css("display","")}},select:function(a){if(b.pagination.display){var e=Math.floor(c.pagination.pages_at_once/2),d=a-e;0>d?d=0:a>=h.item_count-e&&(d=h.item_count-c.pagination.pages_at_once);e="horizontal"==b.pagination.direction?{left:-(d*c.pagination.page.width)}:{top:-(d*c.pagination.page.height)};F.stop().animate(e,250);W.removeClass("current");W.eq(a).addClass("current")}}},social_buttons:{init:function(){y=k('<div class="social_buttons '+b.social_buttons.direction+
'" />');b.social_buttons.hideable?(M=k('<div class="social_buttons_toggle '+b.social_buttons.direction+'" />'),p.prepend(M),d.position_element(M,b.social_buttons.position),y.fadeTo(200,0,function(){y.hide()}).data("visible",!1),p.prepend(y),d.position_element(y,k.extend({},b.social_buttons.position,{h_offset:b.social_buttons.position.h_offset+M.outerWidth(!0)+5})),M.click(function(){y.data("visible")?(y.data("visible",!1).stop().fadeTo(200,0,function(){y.empty().hide()}),M.removeClass("active")):
(y.data("visible",!0).stop().fadeTo(200,1),d.social_buttons.display(n.index),M.addClass("active"))})):(p.prepend(y),d.position_element(y,b.social_buttons.position));d.social_buttons.display(n.index)},display:function(a){if(b.social_buttons.display&&(!b.social_buttons.hideable||y.data("visible"))){var c="",l="";y.html("");"string"==typeof h.items[a].social_button_url?l=h.items[a].social_button_url:(l=-1==v.href.indexOf("#")?v.href:v.href.substring(0,v.href.indexOf("#")),l=d.set_url_param(d.set_url_param(l,
"edgpid",h.items[a].id),"edgmid",b.module_id)+"#slider_"+b.module_id+"/"+x.join("-")+"/"+h.items[a].id+"/");for(var g in b.social_buttons.buttons)b.social_buttons.buttons[g].display&&(c+='<div class="social_button">',c+=b.social_buttons.buttons[g].html.replace(/{location_href}/g,l).replace(/{location_href_encoded}/g,encodeURIComponent(l)),c+="</div>");X&&b.social_buttons.load_after_effect?(p.unbind("slider_transition_finnished.social_buttons"),p.bind("slider_transition_finnished.social_buttons",function(){y.html("").append(c)})):
y.append(c)}}},_button:{init:function(a){c.buttons[a.type]=k('<a class="standalone_button'+(a.custom_class?" "+a.custom_class:"")+'" href="#">'+a.text+"</a>");p.prepend(c.buttons[a.type]);d.position_element(c.buttons[a.type],b.buttons[a.type].position)},display:function(a){a.target="string"==typeof a.target?a.target:"_self";c.buttons[a.type].attr({href:a.href,target:a.target})}},email_button:{init:function(){d._button.init({type:"email",custom_class:"email",text:"Email this"});d.email_button.display(n.index)},
display:function(a){a=v.href.indexOf("#");b.buttons.email.display&&(a=-1==a?v.href:v.href.substring(0,a),a+="#slider_"+b.module_id+"/"+x.join("-")+"/"+h.items[n.index].id,d._button.display({type:"email",href:"mailto:?subject="+escape(b.buttons.email.email_subject)+"&body="+encodeURIComponent(a)}))}},download_button:{init:function(){d._button.init({type:"download",custom_class:"download",text:"Download"});d.download_button.display(n.index)},display:function(a){a=h.items[a].download_url;b.buttons.download.display&&
(a=a?a:"#",d._button.display({type:"download",href:a,target:"_blank"}),"#"==a?c.buttons.download.stop().fadeTo(200,0):c.buttons.download.stop().fadeTo(200,1))}},fullscreen_button:{init:function(){d._button.init({type:"fullscreen",custom_class:"fullscreen",text:"Fullscreen"});c.buttons.fullscreen.click(function(){k(this).chameleonSlider_2_1_fullscreen(b.fullscreen_options);return!1})}},exit_fullscreen:{init:function(){d._button.init({type:"exit_fullscreen",custom_class:"exit_fullscreen",text:"Exit fullscreen"})}},
main_panel:{init:function(){var a,e="mousedown",l="mousemove",g="mouseup";u=k('<div class="main_panel" />');d.main_panel.size();r=k('<div class="items_wrapper" />');u.append(r);p.prepend(u);if(b.redirect_on_click||b.lightbox_on_click)G=k('<a href="#" class="media_link" />'),b.redirect_on_click&&G.attr("target",b.redirect_on_click_target),u.append(G);u.append('<div class="preloading_item" />');!b.redirect_on_click&&b.lightbox_on_click&&(H=k('<div class="lightbox_links_container" style="display: none;"></div>'),
r.append(H));p.bind("slider_transition_finnished.main_panel",function(){X=!1});d.main_panel.display_category(!0);c.preloading_item||(d.main_panel.display(n.index,""),d.triggers());if(b.main_panel.drag_navigation){if(a="ontouchstart"in z)e="touchstart",l="touchmove",g="touchend";u.delegate("a","click",function(a){c.main_panel.disable_clicking&&a.preventDefault()}).bind(e+".chameleon_"+b.module_id,function(b){a&&(b.originalEvent.touches&&b.originalEvent.touches.length?b=b.originalEvent.touches[0]:b.originalEvent.changedTouches&&
b.originalEvent.changedTouches.length&&(b=b.originalEvent.changedTouches[0]));u.data("dragging",{start_position:{left:b.pageX,top:b.pageY}});b.preventDefault()});k(L).bind(l+".chameleon_"+b.module_id,function(b){var e;if("object"==typeof u.data("dragging")&&(e=u.data("dragging").start_position,c.main_panel.disable_clicking=!0,a&&(b.originalEvent.touches&&b.originalEvent.touches.length?b=b.originalEvent.touches[0]:b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length&&(b=b.originalEvent.changedTouches[0])),
!(1<=Math.abs((e.top-b.pageY)/(b.pageX-e.left))))){b=e.left-b.pageX;if(50>Math.abs(b))return!1;u.data("dragging",!1);0>b?d.prev():d.next()}}).bind(g+".chameleon_"+b.module_id,function(a){u.data("dragging",!1);c.main_panel.disable_clicking_interval=setTimeout(function(){c.main_panel.disable_clicking=!1},10)})}c.main_panel.initialized=!0},size:function(){b.main_panel.display&&(c.main_panel.dimensions=d.get_dimensions(b.main_panel.dimensions),c.main_panel.dimensions.height-=b.main_panel.trim.top+b.main_panel.trim.bottom,
c.main_panel.dimensions.width-=b.main_panel.trim.left+b.main_panel.trim.right,d.position_element(u,b.main_panel.position),u.width(c.main_panel.dimensions.width).height(c.main_panel.dimensions.height))},display_category:function(a){var e="",l=0,g;g=h.items[n.index];var w=[];if(b.main_panel.display){R(g)&&(c.preloading_item=!0,a?k("<img />").load(function(){c.preloading_item=!1;d.main_panel.display(n.index,"");d.triggers()}).error(function(){c.preloading_item=!1;d.triggers()}).attr("src",g.src):(u.addClass("loading_category"),
a=function(){c.preloading_item=!1;d.main_panel.display(n.index,"");u.removeClass("loading_category")},k("<img />").load(a).error(a).attr("src",g.src)));for(;l<h.item_count;l++)if(g=h.items[l],b.main_panel.immediately_preload_all_images&&R(g)&&!c.preloaded_images[g.src]&&(c.preloaded_images[g.src]={loading:!0,loaded:!1},k("<img />").load({src:g.src},function(a){c.preloaded_images[a.data.src]={loading:!1,loaded:!0,width:this.width,height:this.height}}).attr("src",g.src)),!b.redirect_on_click&&b.lightbox_on_click){var f,
m;"image"==g.type||"video"==g.type||"audio"==g.type?(a=g.lightbox_url,f=g.download_url?g.download_url:"",m=g.src):m=f=a="";"pp"==b.fullscreen_provider?a&&(e+='<a href="'+a+'" rel="prettyPhoto_M'+b.module_id+'" edgmid="'+b.module_id+'" edgpid="'+g.id+'" downhref="'+f+(b.lightbox_description&&g.info?'" pptitle="'+g.info.replace('"',"&quot;"):"")+'"><img src="'+m+'" alt="'+(b.lightbox_title&&g.title?g.title:"")+'" /></a>'):"smb"==b.fullscreen_provider?k.isPlainObject(g.smb_object)&&!k.isEmptyObject(g.smb_object)&&
w.push(g.smb_object):"smbLight"==b.fullscreen_provider&&k.isPlainObject(g.smbLight_object)&&!k.isEmptyObject(g.smbLight_object)&&w.push(g.smbLight_object)}!b.redirect_on_click&&b.lightbox_on_click&&("pp"==b.fullscreen_provider?(H.html(e),aa=H.find("> a"),aa.prettyPhoto(b.pretty_photo_options)):"smb"==b.fullscreen_provider?H.data("socialMediaBox",w):"smbLight"==b.fullscreen_provider&&H.data("smbLightItems",w))}},display:function(a){var e="",l="",g,w=h.items[a];if(b.main_panel.display){X=!0;G.unbind("click");
2==arguments.length?l=e=arguments[1]:1==b.main_panel.transition.effects.length?l=e=b.main_panel.transition.effects[0]:1<b.main_panel.transition.effects.length&&(g=Math.floor(Math.random()*b.main_panel.transition.effects.length),l=e=b.main_panel.transition.effects[g]);"image"==w.type?(G.css("display","block"),b.redirect_on_click&&G.attr("href","string"==typeof w.on_click_url&&w.on_click_url?w.on_click_url:"#")):"video"==w.type||"audio"==w.type?(l=e="",b.redirect_on_click||"undefined"!=typeof w.html&&
""!=w.html?G.css("display","none"):G.css("display","block")):"html"==w.type&&(l="","fade"!=e&&(e="show"));!b.redirect_on_click&&b.lightbox_on_click&&G.attr("href","#").click(function(){var a;if(c.main_panel.disable_clicking)return!1;"pp"==b.fullscreen_provider?aa.filter('a[edgpid="'+w.id+'"]').trigger("click"):"smb"==b.fullscreen_provider?(b.smb_options.openAt=0,k.each(H.data("socialMediaBox"),function(a,c){if(c.id===w.id)return b.smb_options.openAt=a,!1}),H.socialMediaBox(b.smb_options)):"smbLight"==
b.fullscreen_provider&&(a=H.data("smbLightItems"),b.smbLight_options.openAt=0,k.each(a,function(a,c){if(c.id===w.id)return b.smbLight_options.openAt=a,!1}),new SmbLight_1(a,b.smbLight_options));return!1});"object"==typeof l?e=l.type:""==e&&(e="show");void 0!=c.youtube_player_object&&(c.youtube_player_object.getIframe().src="",c.youtube_player_object.stopVideo(),c.youtube_player_object=void 0);var f=function(g){b.main_panel.immediately_preload_all_images||c.item_details_shown||(d.social_buttons.display(n.index),
d.item_title.select(n.index),d.item_info.display(n.index),d.download_button.display(n.index),d.email_button.display(n.index));d.main_panel._transitions[e]({item_index:a,effect_settings:l,item_src:g?g:w.src});b.main_panel.fill_panel&&R(w)&&d.main_panel._fit_image(r.find("> .item_container").filter(":last").find("> img"));if(!b.main_panel.immediately_preload_all_images&&(g=h.items[n.index+1])&&R(g)){var m=ja(g);if(!c.preloaded_images[m]){c.preloaded_images[m]={loading:!0,loaded:!1};var p=h.id,q=n.index+
1;k("<img />").load(function(a){c.preloaded_images[m]={loading:!1,loaded:!0,width:this.width,height:this.height};p==h.id&&q==n.index&&(f(m),d.main_panel.remove_loading_effect("loading_item"))}).attr("src",m)}}};if(R(w))if(b.main_panel.immediately_preload_all_images)f();else{var m=ja(w);if(c.preloaded_images[m])c.preloaded_images[m].loaded&&(f(m),d.main_panel.remove_loading_effect("loading_item"));else{d.main_panel.show_loading_effect("loading_item");c.preloaded_images[m]={loading:!0,loaded:!1};var p=
h.id,ka=n.index;k("<img />").load(function(a){c.preloaded_images[m]={loading:!1,loaded:!0,width:this.width,height:this.height};p==h.id&&ka==n.index&&(f(m),d.main_panel.remove_loading_effect("loading_item"))}).attr("src",m)}}else f()}},show_loading_effect:function(a){clearTimeout(u.data("loading_effect_timeout"));u.addClass(a+" loading_effect show_preload")},remove_loading_effect:function(a){u.removeClass("show_preload");u.data("loading_effect_timeout",setTimeout(function(){u.removeClass(a+" loading_effect")},
400))},_fit_image:function(a){var e=a.attr("src"),d=c.preloaded_images[e],g=function(a,e){var d=c.main_panel.dimensions.width,l=c.main_panel.dimensions.height,g;if(e.width!=d||e.height!=l)a.css({position:"relative"}),e.width>d||e.height>l||b.main_panel.stretch_small_image?(a.css({width:"100%",height:"auto"}),g=d/e.width,g=Math.floor(e.height*g),g<l?(g=l/e.height,l=Math.floor(e.width*g),a.css({height:"100%",width:"auto"}),b.main_panel.top_left_align||a.css({left:-Math.floor((l-d)/2)})):g>l&&!b.main_panel.top_left_align&&
a.css({top:-Math.floor((g-l)/2)})):b.main_panel.top_left_align||(e.width<d&&a.css({left:Math.floor((d-e.width)/2)}),e.height<l&&a.css({top:Math.floor((l-e.height)/2)}))};d&&d.loaded?g(a,d):k("<img />").load({src:e,$img:a},function(a){c.preloaded_images[a.data.src]={loading:!1,loaded:!0,width:this.width,height:this.height};g(a.data.$img,c.preloaded_images[a.data.src])}).attr("src",e)},_transitions:{show:function(a){var e='<div class="item_container new_item">',l=h.items[a.item_index],g=r.find("> .item_container").eq(0),
f="undefined"==typeof l.html||""==l.html?"":l.html,U="",ca,v,u=!1;"html"!=l.type&&"video"!=l.type&&"audio"!=l.type||!f?(f="object"==typeof l.thumb&&l.thumb.caption?l.thumb.caption:"",e+='<img alt="'+f+'" src="'+a.item_src+'" />'):(a="undefined"==typeof l.video_src||""==l.video_src?"":l.video_src,""==a?b.autoplay.enable&&(U=d._video.get_provider(f),ca=d._video.get_video_id(U,f)):(U=b.inhouse_player,ca=a),""===U?e+=f:(u=!0,v="chameleon_video_container_"+b.module_id+"_"+m.join("-")+"_"+n.index+"_"+Math.round(1E5*
Math.random()),e+='<div id="'+v+'"></div>'));e=k(e+"</div>");r.find("> .item_container.new_item").removeClass("new_item");e.css({width:c.main_panel.dimensions.width,height:c.main_panel.dimensions.height}).appendTo(r);u&&d._video.player_setup({container:v,provider:U,id:ca,dimensions:c.main_panel.dimensions});g.hasClass("new_item")||g.remove();u||p.trigger("slider_transition_finnished")},fade:function(a){var e=h.items[a.item_index],d="object"==typeof e.thumb&&e.thumb.caption?e.thumb.caption:"",g="undefined"==
typeof e.html||""==e.html?"":e.html,f;"image"==e.type?f=k('<div class="item_container new_item"><img alt="'+d+'" src="'+a.item_src+'" /></div>'):g&&(f=k('<div class="item_container new_item">'+g+"</div>"));r.find("> .item_container.new_item").removeClass("new_item");f.css({width:c.main_panel.dimensions.width,height:c.main_panel.dimensions.height,display:"none"}).appendTo(r).fadeIn(b.main_panel.transition.duration,function(){var a=r.find("> .item_container").eq(0);a.hasClass("new_item")||a.remove();
p.trigger("slider_transition_finnished")})},slide:function(a){var e=h.items[a.item_index],e=k('<div class="item_container new_item"><img alt="'+("object"==typeof e.thumb&&e.thumb.caption?e.thumb.caption:"")+'" src="'+a.item_src+'" /></div>'),d=r.find("> .item_container").filter(":last"),g="left",f=function(){var a=r.find("> .item_container").eq(0);a.hasClass("new_item")||a.remove();p.trigger("slider_transition_finnished")};a.effect_settings.force_horizontal?g=Z<a.item_index?"left":"right":a.effect_settings.force_vertical?
g=Z<a.item_index?"up":"down":1==a.effect_settings.directions.length?g=a.effect_settings.directions[0]:1<a.effect_settings.directions.length&&(g=a.effect_settings.directions[Math.floor(Math.random()*a.effect_settings.directions.length)]);r.find("> .item_container.new_item").removeClass("new_item");e.css({width:c.main_panel.dimensions.width,height:c.main_panel.dimensions.height});switch(g){case "down":e.css("top",-c.main_panel.dimensions.height).appendTo(r).animate({top:0},b.main_panel.transition.duration,
"swing",f);d.animate({top:c.main_panel.dimensions.height},b.main_panel.transition.duration,"swing");break;case "up":e.css("top",c.main_panel.dimensions.height).appendTo(r).animate({top:0},b.main_panel.transition.duration,"swing",f);d.animate({top:-c.main_panel.dimensions.height},b.main_panel.transition.duration,"swing");break;case "right":e.css("left",-c.main_panel.dimensions.width).appendTo(r).animate({left:0},b.main_panel.transition.duration,"swing",f);d.animate({left:c.main_panel.dimensions.width},
b.main_panel.transition.duration,"swing");break;default:e.css("left",c.main_panel.dimensions.width).appendTo(r).animate({left:0},b.main_panel.transition.duration,"swing",f),d.animate({left:-c.main_panel.dimensions.width},b.main_panel.transition.duration,"swing")}},stripes:function(a){var e=0,d=0,g=0,f=0,h=0,m=0,n=0,v=0,u=0,x=0,B=a.item_src,q=k.extend(!0,{orientation:"vertical",num_of_stripes:12,direction:0,start_at:0,randomize:{orientation:!1,direction:!1,start_at:!1}},a.effect_settings),y=Math.floor(b.main_panel.transition.duration/
q.num_of_stripes),C=k('<div class="item_container new_item"></div>'),z=function(){var a=r.find("> .item_container").eq(0);a.hasClass("new_item")||a.remove();p.trigger("slider_transition_finnished")};a=function(a,c){var r=e,t=d,A=function(){a.animate("horizontal"==q.orientation?{left:0,opacity:1}:{top:0,opacity:1},{duration:b.main_panel.transition.duration,easing:"swing",complete:function(){0==q.start_at||2==q.start_at?c+1==q.num_of_stripes&&z():1==q.start_at?0==c&&z():c==Math.floor(q.num_of_stripes/
2)&&z()}})};"horizontal"==q.orientation?(h=c*d,m=0===q.direction?-e:1===q.direction?e:0==c%2?-e:e,n=u-h,v=x):(m=c*e,h=0===q.direction?-d:1===q.direction?d:0==c%2?-d:d,n=u,v=x-m);c+1==q.num_of_stripes&&(r=g,t=f);a=k('<div class="fancy_effect_element" />');a.css({width:r,height:t,top:h,left:m,opacity:0,background:"url('"+B+"') no-repeat "+v+"px "+n+"px "+p.css("background-color")}).appendTo(C);if(0===q.start_at)setTimeout(A,c*y+1);else if(1==q.start_at)setTimeout(A,(q.num_of_stripes-1-c)*y+1);else if(2==
q.start_at||3==q.start_at)r=0,0==q.num_of_stripes%2?(t=q.num_of_stripes/2,c<t?r=3==q.start_at?c:Math.abs(c-t+1):(r=c-t,3==q.start_at&&(r=t-1-r))):(t=Math.floor(q.num_of_stripes/2),r=c<t?t-c:c-t,3==q.start_at&&(r=t-r)),setTimeout(A,r*y+1)};q.randomize.orientation&&(q.orientation=0==Math.floor(2*Math.random())?"horizontal":"vertical");q.randomize.direction&&(q.direction=Math.floor(3*Math.random()));q.randomize.start_at&&(q.start_at=Math.floor(4*Math.random()));r.find("> .item_container.new_item").removeClass("new_item");
C.css({width:c.main_panel.dimensions.width,height:c.main_panel.dimensions.height}).appendTo(r);"horizontal"==q.orientation?(g=e=c.main_panel.dimensions.width,d=Math.ceil(c.main_panel.dimensions.height/q.num_of_stripes),f=d*q.num_of_stripes-c.main_panel.dimensions.height,f=0==f?d:d-f):(f=d=c.main_panel.dimensions.height,e=Math.ceil(c.main_panel.dimensions.width/q.num_of_stripes),g=e*q.num_of_stripes-c.main_panel.dimensions.width,g=0==g?e:e-g);(function(a){var b=c.main_panel.dimensions.width,e=c.main_panel.dimensions.height;
if(a.width!=b||a.height!=e)a.width<b?x=Math.floor((b-a.width)/2):a.width>b&&(x=-Math.floor((a.width-b)/2)),a.height<e?u=Math.floor((e-a.height)/2):a.height>e&&(u=-Math.floor((a.height-e)/2))})(c.preloaded_images[B]);for(var t=0;t<q.num_of_stripes;t++)a(void 0,t)}}},_on_pre_item_change:void 0,_video:{get_provider:function(a){if("<iframe"==a.substring(0,7)){if(-1!==a.indexOf("youtube.com/embed/",7))return"youtube";if(-1!==a.indexOf("player.vimeo.com/video/",7))return"vimeo"}return""},get_video_id:function(a,
b){var c,d;switch(a){case "youtube":case "vimeo":return c=k("<div>"+b+"</div>").find("iframe:first").attr("src"),d=c.indexOf("?"),-1!==d&&(c=c.substring(0,d)),"/"==c[c.length-1]&&(c=c.substring(0,c.length-1)),c.substring(c.lastIndexOf("/")+1);default:return""}},player_setup:function(a){var b=k("#"+a.container);b.css(a.dimensions);a.container=b;switch(a.provider){case "youtube":d._video._youtube_player(a);break;case "vimeo":d._video._vimeo_player(a);break;case "flowplayer":d._video._flow_player(a)}},
_youtube_player:function(a){var e=a.container.attr("id")+"_object",l,g,f=function(){g=new YT.Player(e,{events:{onReady:function(){c.youtube_player_object=g;p.trigger("slider_transition_finnished");b.autoplay.autostart_video_playback&&g.playVideo()},onStateChange:function(a){switch(a.data){case YT.PlayerState.PLAYING:T=!0;d.autoplay.reset();break;case YT.PlayerState.ENDED:setTimeout(d.next,1E3)}}}})};a.container.append('<iframe id="'+e+'" type="text/html" width="'+a.dimensions.width+'" height="'+a.dimensions.height+
'" src="//www.youtube.com/embed/'+a.id+"?enablejsapi=1&amp;wmode=transparent&amp;origin="+v.protocol+"//"+v.host+'" frameborder="0"></iframe>');c.youtube_iframe_api.called||(c.youtube_iframe_api.called=!0,a=L.createElement("script"),a.src="//www.youtube.com/iframe_api",l=L.getElementsByTagName("script")[0],l.parentNode.insertBefore(a,l));c.youtube_iframe_api.loaded?f():z.onYouTubeIframeAPIReady=function(){c.youtube_iframe_api.loaded=!0;f()}},_vimeo_player:function(a){var c=!1,l=function(a,b){var c=
{method:a};b&&(c.value=b);f[0].contentWindow.postMessage(JSON.stringify(c),"https://player.vimeo.com")},g=function(a){switch(JSON.parse(a.data).event){case "ready":p.trigger("slider_transition_finnished");l("addEventListener","finish");l("addEventListener","play");b.autoplay.autostart_video_playback&&l("play");break;case "play":if(c)break;T=c=!0;d.autoplay.reset();break;case "finish":setTimeout(d.next,1E3)}},f=k('<iframe src="//player.vimeo.com/video/'+a.id+'?api=1" width="'+a.dimensions.width+'" height="'+
a.dimensions.height+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');d._on_pre_item_change=function(){z.addEventListener?z.removeEventListener("message",g,!1):z.detachEvent("onmessage",g)};z.addEventListener?z.addEventListener("message",g,!1):z.attachEvent("onmessage",g);a.container.append(f)},_flow_player:function(a){var c=!1,l="";V(a.id,".mp4")?l="video/mp4":V(a.id,".webm")?l="video/webm":V(a.id,".ogg")?l="video/ogg":V(a.id,".flv")&&(l="video/flash");flowplayer(a.container[0],
{swf:b.flowplayer_src,volume:b.videoVolume,clip:{sources:[{type:l,src:a.id}]}}).on("ready",function(){p.trigger("slider_transition_finnished");b.autoplay.autostart_video_playback&&flowplayer(a.container).play()}).on("resume",function(){b.autoplay.enable&&!c&&(T=c=!0,d.autoplay.reset())}).on("finish",function(){b.autoplay.enable&&setTimeout(d.next,1E3)})}},key_browse:function(){k(L).keyup(function(a){37===a.keyCode&&d.prev();39===a.keyCode&&d.next();return!1})},_scrollable_boxes:{init:function(a){var e,
l=b.scrollable_boxes[a.box];e=c.scrollable_boxes[a.box]={jq:{container:k('<div class="scrollable_box'+(a.custom_class?" "+a.custom_class:"")+'" />').data("disabled",!1),viewport:k('<div class="viewport" />'),content:k('<div class="overview" />'),scrollbar:k()}};e.jq.container.append(e.jq.viewport);e.jq.viewport.append(e.jq.content);p.prepend(e.jq.container);d._scrollable_boxes.size(a.box);l.container.resize_to_content||e.jq.container.height(e.dimensions.height);d._scrollable_boxes.display(a);l.container.show_on_hover&&
p.hover(function(){c.mouse_entered=!0;0==e.jq.container.data("disabled")&&e.jq.container.stop(!0).fadeTo(200,1,function(){e.jq.container.css("display","block")})},function(){c.mouse_entered=!1;0==e.jq.container.data("disabled")&&e.jq.container.stop(!0).fadeTo(200,0,function(){e.jq.container.css("display","none")})})},size:function(a){var e=c.scrollable_boxes[a];a=b.scrollable_boxes[a];a.display&&(e.jq.scrollbar.remove(),e.jq.scrollbar=k('<div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>'),
e.dimensions=d.get_dimensions(a.container.dimensions),d.position_element(e.jq.container,a.container.position),e.dimensions.height>c.container_dimensions.height&&(e.dimensions.height=c.container_dimensions.height),e.dimensions.width>c.container_dimensions.width&&(e.dimensions.width=c.container_dimensions.width),e.jq.container.width(e.dimensions.width).css({maxHeight:e.dimensions.height}).append(e.jq.scrollbar).eds_tinyscrollbar({size:e.dimensions.height-(e.jq.scrollbar.outerHeight(!0)-e.jq.scrollbar.height())}).hide(0),
e.jq.viewport.css({maxHeight:e.dimensions.height-e.jq.viewport.outerHeight(!0)}),a.container.resize_to_content||e.jq.container.height(e.dimensions.height))},display:function(a){var e=c.scrollable_boxes[a.box],d=b.scrollable_boxes[a.box],g=function(){var a=function(){e.jq.viewport.stop(!0).fadeTo(200,1,function(){e.jq.scrollbar.css("display","block")});e.jq.scrollbar.hasClass("disable")||e.jq.scrollbar.stop(!0).fadeTo(200,1,function(){e.jq.scrollbar.css("display","block")})};e.jq.viewport.css({visibility:"",
display:"none"});d.container.show_on_hover?c.mouse_entered?a():(e.jq.viewport.css({display:"block"}),e.jq.scrollbar.hasClass("disable")||e.jq.scrollbar.css({display:"block"})):a()};d.display&&("string"==typeof a.content&&a.content?(e.jq.container.data("disabled",!1),e.jq.container.is(":visible")?(e.jq.container.css({height:e.jq.container.height()}),e.jq.scrollbar.stop(!0).fadeTo(200,0,function(){e.jq.scrollbar.css("display","none")}),e.jq.viewport.stop(!0).fadeTo(200,0,function(){e.jq.content.html(a.content);
e.jq.viewport.css({visibility:"hidden",display:"block"}).removeClass("scrollable");e.jq.container.eds_tinyscrollbar_update();e.jq.scrollbar.hasClass("disable")||(e.jq.viewport.addClass("scrollable"),e.jq.container.eds_tinyscrollbar_update());!d.container.resize_to_content||d.container.show_on_hover&&!c.mouse_entered?(e.jq.container.height(e.dimensions.height),g()):e.jq.container.animate({height:e.jq.viewport.outerHeight(!0)},200,g)})):(e.jq.container.css({visibility:"hidden",display:"block"}),e.jq.viewport.removeClass("scrollable"),
e.jq.content.html(a.content),e.jq.container.eds_tinyscrollbar_update(),e.jq.scrollbar.hasClass("disable")?e.jq.scrollbar.css({display:"none"}):(e.jq.viewport.addClass("scrollable"),e.jq.scrollbar.css({display:"block",opacity:1}),e.jq.container.eds_tinyscrollbar_update()),e.jq.container.css({visibility:"",display:"none",height:d.container.resize_to_content?e.jq.viewport.outerHeight(!0):e.dimensions.height}),d.container.show_on_hover&&!c.mouse_entered||e.jq.container.stop(!0).fadeTo(200,1,function(){e.jq.container.css("display",
"block")}))):e.jq.container.data("disabled",!0).stop(!0).fadeTo(200,0,function(){e.jq.container.css("display","none")}))}},item_info:{init:function(){d._scrollable_boxes.init({box:"item_info",custom_class:"item_info",content:h.items[n.index].info})},display:function(a){d._scrollable_boxes.display({box:"item_info",content:h.items[a].info})}},gallery_info:{init:function(){d._scrollable_boxes.init({box:"gallery_info",custom_class:"gallery_info",content:h.info})},display:function(){d._scrollable_boxes.display({box:"gallery_info",
content:h.info})}},autoplay_toggle:{init:function(){E=k('<a href="#" class="autoplay_toggle">Play/Pause</a>');b.autoplay.enable?E.addClass("pause"):O=!0;E.prependTo(p).click(function(){O?(O=!1,E.addClass("pause"),b.autoplay.enable||(ia=!0,b.autoplay.enable=!0,d.autoplay.init()),b.autoplay.pause_on_hover||d.autoplay.start()):(E.removeClass("pause"),O=!0,S||d.autoplay.pause());return!1});d.position_element(E,b.autoplay_toggle.position);2>h.item_count&&E.css("display","none");b.autoplay_toggle.auto_hide&&
(E.css("display","none"),p.hover(function(){2>h.item_count||E.stop().fadeTo(b.autoplay_toggle.hide_speed,1)},function(){E.stop().fadeTo(b.autoplay_toggle.hide_speed,0)}))},display_category:function(){var a="";b.autoplay_toggle.display&&(2>h.item_count&&(a="none"),E.css("display",a))}},autoplay:{init:function(){b.autoplay.indicator.display&&(C=k('<div class="indicator" />'),D=k('<div class="autoplay_container" />'),d.autoplay.size(),"vertical"!=b.autoplay.indicator.orientation||b.autoplay.indicator.flip_direction?
b.autoplay.indicator.flip_direction&&C.css({left:"auto",right:0}):C.css({top:"auto",bottom:0}),D.append(C).css("display","none"),ia?(p.append(D),D.fadeIn(300)):(p.prepend(D),D.css("display","")));p.bind("slider_transition_finnished",function(){O||S||d.autoplay.start()})},size:function(){b.autoplay.enable&&b.autoplay.indicator.display&&(c.autoplay.indicator=d.get_dimensions(b.autoplay.indicator.dimensions),d.position_element(D,b.autoplay.indicator.position),"vertical"==b.autoplay.indicator.orientation?
C.width(c.autoplay.indicator.width):C.height(c.autoplay.indicator.height),D.css(c.autoplay.indicator))},start:function(){var a=b.autoplay.interval,e=!0;2>h.item_count?b.autoplay.indicator.display&&D.css("display","none"):b.autoplay.enable&&""==N&&(fa=(new Date).getTime(),ba=!1,0!=Q&&(e=!1,a=Q),b.autoplay.indicator.display&&(D.css("display",""),C.stop(),"vertical"==b.autoplay.indicator.orientation?(e&&C.height(0),C.animate({height:c.autoplay.indicator.height},a,"linear")):(e&&C.width(0),C.animate({width:c.autoplay.indicator.width},
a,"linear"))),N=setTimeout(d.next,a))},pause:function(){b.autoplay.enable&&!ba&&(ga=(new Date).getTime(),ha=ga-fa,b.autoplay.indicator.display&&C.stop(),Q=(0==Q?b.autoplay.interval:Q)-ha,clearTimeout(N),N="")},reset:function(){b.autoplay.enable&&(clearTimeout(N),N="",Q=0,ba=!0,b.autoplay.indicator.display&&(C.stop(),"vertical"==b.autoplay.indicator.orientation?C.height(0):C.width(0)))},display_category:function(){b.autoplay.enable&&b.autoplay.indicator.display&&(2>h.item_count?D.css("display","none"):
D.css("display",""))}},_items_panel:{init:function(a){a.page.append(a.item).appendTo(f[a.panel].container);c[a.panel].width=a.item.outerWidth(!0);c[a.panel].height=a.item.outerHeight(!0);c[a.panel].page.horizontal_space=a.page.outerWidth(!0)-a.page.width();c[a.panel].page.vertical_space=a.page.outerHeight(!0)-a.page.height();a.page.remove();b[a.panel].container.transparent||f[a.panel].wrapper.addClass("not_transparent")},calculate_pages:function(a){var e;c[a.panel].container=d.get_dimensions(b[a.panel].container.dimensions);
c[a.panel].page.width=c[a.panel].width+c[a.panel].page.horizontal_space;c[a.panel].page.width>c[a.panel].container.width?c[a.panel].container.width=c[a.panel].page.width:c[a.panel].page.width=c[a.panel].container.width-c[a.panel].page.horizontal_space;c[a.panel].page.height=c[a.panel].height+c[a.panel].page.vertical_space;c[a.panel].page.height>c[a.panel].container.height?c[a.panel].container.height=c[a.panel].page.height:c[a.panel].page.height=c[a.panel].container.height-c[a.panel].page.vertical_space;
c[a.panel].per_row=Math.floor(c[a.panel].page.width/c[a.panel].width);c[a.panel].page.width=c[a.panel].per_row*c[a.panel].width;c[a.panel].row_count=Math.floor(c[a.panel].page.height/c[a.panel].height);c[a.panel].page.height=c[a.panel].row_count*c[a.panel].height;c[a.panel].per_page=c[a.panel].per_row*c[a.panel].row_count;c[a.panel].page.count=Math.ceil(a.item_count/c[a.panel].per_page);1<c[a.panel].page.count?(f[a.panel].pagination?(f[a.panel].pagination.next.css("display","block"),f[a.panel].pagination.prev.css("display",
"block")):(f[a.panel].wrapper.append('<a href="#" class="navigation '+b[a.panel].pagination.direction+' prev">Previous</a><a href="#" class="navigation '+b[a.panel].pagination.direction+' next">Next</a>'),f[a.panel].pagination={prev:f[a.panel].wrapper.find("> a.navigation.prev"),next:f[a.panel].wrapper.find("> a.navigation.next")},f[a.panel].pagination.next.click(function(){var b=f[a.panel].pages.filter(".current").index();d._items_panel.move_to_page(a.panel,b+1);return!1}),f[a.panel].pagination.prev.click(function(){var b=
f[a.panel].pages.filter(".current").index();d._items_panel.move_to_page(a.panel,b-1);return!1})),"vertical"==b[a.panel].pagination.direction?(e=c[a.panel].height+c[a.panel].page.vertical_space+2*f[a.panel].pagination.prev.outerHeight(!0),e>c[a.panel].container.height&&(c[a.panel].container.height=e),f[a.panel].pagination.next.css({top:c[a.panel].container.height-f[a.panel].pagination.next.height()}),c[a.panel].row_count=Math.floor((c[a.panel].container.height-2*f[a.panel].pagination.prev.outerHeight(!0)-
c[a.panel].page.vertical_space)/c[a.panel].height),c[a.panel].page.height=c[a.panel].row_count*c[a.panel].height):(e=c[a.panel].width+c[a.panel].page.horizontal_space+2*f[a.panel].pagination.prev.outerWidth(!0),e>c[a.panel].container.width&&(c[a.panel].container.width=e),c[a.panel].per_row=Math.floor((c[a.panel].container.width-2*f[a.panel].pagination.prev.outerWidth(!0)-c[a.panel].page.horizontal_space)/c[a.panel].width),c[a.panel].page.width=c[a.panel].per_row*c[a.panel].width),c[a.panel].per_page=
c[a.panel].per_row*c[a.panel].row_count,c[a.panel].page.count=Math.ceil(a.item_count/c[a.panel].per_page)):f[a.panel].pagination&&(f[a.panel].pagination.next.css("display","none"),f[a.panel].pagination.prev.css("display","none"));f[a.panel].wrapper.css(c[a.panel].container);c[a.panel].window_width=c[a.panel].page.width+c[a.panel].page.horizontal_space;c[a.panel].window_height=c[a.panel].page.height+c[a.panel].page.vertical_space;f[a.panel].window.width(c[a.panel].window_width).height(c[a.panel].window_height).css({top:Math.floor((c[a.panel].container.height-
c[a.panel].window_height)/2)});"vertical"==b[a.panel].pagination.direction?f[a.panel].container.width(c[a.panel].window_width).height(0):f[a.panel].container.width(0).height(c[a.panel].window_height);d.position_element(f[a.panel].wrapper,b[a.panel].container.position)},move_to_page:function(a,e){var d,g=f[a].pages.length-1;0>g||f[a].pages.eq(e).hasClass("current")||(e>g?(d="vertical"==b[a].pagination.direction?{top:g*-(c[a].page.height+c[a].page.vertical_space)-10}:{left:g*-(c[a].page.width+c[a].page.horizontal_space)-
10},f[a].container.animate(d,40,"swing",function(){d="vertical"==b[a].pagination.direction?{top:g*-(c[a].page.height+c[a].page.vertical_space)}:{left:g*-(c[a].page.width+c[a].page.horizontal_space)};f[a].container.animate(d,50,"swing")})):0>e?(d="vertical"==b[a].pagination.direction?{top:10}:{left:10},f[a].container.animate(d,40,"swing",function(){d="vertical"==b[a].pagination.direction?{top:0}:{left:0};f[a].container.animate(d,50,"swing")})):(f[a].pages.removeClass("current").eq(e).addClass("current"),
d="vertical"==b[a].pagination.direction?{top:e*-(c[a].page.height+c[a].page.vertical_space)}:{left:e*-(c[a].page.width+c[a].page.horizontal_space)},f[a].container.stop(!0,!1).animate(d,b[a].pagination.duration,b[a].pagination.easing)))}},thumbnails:{init:function(){f.thumbs={container:k('<div class="thumb_container" />'),window:k('<div class="thumb_window" />'),wrapper:k('<div class="thumb_wrapper" />')};f.thumbs.window.append(f.thumbs.container);f.thumbs.wrapper.append(f.thumbs.window);p.prepend(f.thumbs.wrapper);
d._items_panel.init({panel:"thumbs",page:k("<ul />"),item:k('<li><img src="'+A[0].items[0].thumb.src+'" alt="" style="width: '+b.thumbs.width+"px !important; height: "+b.thumbs.height+'px !important;" /></li>')});b.thumbs.auto_hide&&(f.thumbs.wrapper.css({display:"none"}),p.hover(function(){f.thumbs.wrapper.stop().fadeTo(b.thumbs.hide_speed,1)},function(){f.thumbs.wrapper.stop().fadeTo(b.thumbs.hide_speed,0)}));d.thumbnails.display_category(!1);d.thumbnails.select(n.index)},display_category:function(){var a,
e,l,g=0,m=0<arguments.length&&!1===arguments[0]?!1:!0;if(b.thumbs.display){d._items_panel.calculate_pages({panel:"thumbs",item_count:h.item_count});for(f.thumbs.container.html("");g<h.item_count;g++)0===g%c.thumbs.per_page&&("vertical"==b.thumbs.pagination.direction?f.thumbs.container.height(f.thumbs.container.height()+c.thumbs.window_height):f.thumbs.container.width(f.thumbs.container.width()+c.thumbs.window_width),a=k("<ul />"),a.width(c.thumbs.page.width).height(c.thumbs.page.height).appendTo(f.thumbs.container)),
e=b.thumbs.captions&&"string"==typeof h.items[g].thumb.caption&&h.items[g].thumb.caption?'<div class="caption_wrapper"><div class="caption">'+h.items[g].thumb.caption+"</div></div>":"",l=b.thumbs.display_item_types?'<span class="item_type_icon '+h.items[g].type+'"></span>':"",e='<li><img style="width: '+b.thumbs.width+"px !important; height: "+b.thumbs.height+'px !important;" src="'+h.items[g].thumb.src+'" alt="" />'+l+e,m&&(k("<img />").load({index:g},function(a){f.thumbs.pages.find(".thumb_preloading").eq(a.data.index).fadeTo(500,
0,function(){k(this).remove()})}).attr("src",h.items[g].thumb.src),e+='<div class="thumb_preloading"></div>'),a.append(e+"</li>"),b.thumbs.tooltips.enabled&&k.fn.qtip&&(l=!0,e="",h.items[g].thumb.tooltip&&(b.thumbs.tooltips.title&&h.items[g].thumb.tooltip.title&&(e='<p class="title">'+h.items[g].thumb.tooltip.title+"</p>",l=!1),b.thumbs.tooltips.description&&h.items[g].thumb.tooltip.description&&(e+='<div class="description">'+h.items[g].thumb.tooltip.description+"</div>",l=!1),l||a.find("> li").filter(":last").qtip({content:{text:e},
position:b.thumbs.tooltips.position,style:{classes:"chameleon_slider_tooltip "+b.thumbs.tooltips.classes,tip:{corner:!0}}})));f.thumbs.pages=f.thumbs.container.find("> ul")}},trigger:function(){f.thumbs.container.delegate("ul > li","click",function(){var a=k(this);d.show_item(a.parent().index()*c.thumbs.per_page+a.index());return!1})},select:function(a){b.thumbs.display&&(a=f.thumbs.pages.find("> li").eq(a),d._items_panel.move_to_page("thumbs",a.parent().index()),f.thumbs.pages.find("> li.on").removeClass("on"),
a.addClass("on"))}},categories:{init:function(){f.categories={container:k('<div class="categories_container" />'),window:k('<div class="categories_window" />'),wrapper:k('<div class="categories_wrapper '+b.categories.pagination.direction+'" />')};f.categories.window.append(f.categories.container);f.categories.wrapper.append(f.categories.window);p.prepend(f.categories.wrapper);d._items_panel.init({panel:"categories",page:k("<ul />"),item:k('<li style="width: '+b.categories.width+"px; height: "+b.categories.height+
'px;" />')});b.categories.auto_hide&&(f.categories.wrapper.css({display:"none"}),p.hover(function(){f.categories.wrapper.stop().fadeTo(b.categories.hide_speed,1)},function(){f.categories.wrapper.stop().fadeTo(b.categories.hide_speed,0)}));d.categories.display_categories()},display_categories:function(){var a,e,l=[],g,h=0,n=m[m.length-1],p,r;if(b.categories.display){if(c.categories.render_categories){1==m.length?l=A:(e=k.extend([],m),e.pop(),l=d.get_category(e).children,l=[{id:-1,name:"&lt;Back",open_parent:!0}].concat(l),
n++);g=l.length;d._items_panel.calculate_pages({panel:"categories",item_count:g});f.categories.container.empty();for(h=0;h<g;h++)0===h%c.categories.per_page&&("vertical"==b.categories.pagination.direction?f.categories.container.height(f.categories.container.height()+c.categories.window_height):f.categories.container.width(f.categories.container.width()+c.categories.window_width),a=k("<ul />"),a.width(c.categories.page.width).height(c.categories.page.height).appendTo(f.categories.container)),p="undefined"!=
typeof l[h].children&&0<l[h].children.length,e="<li"+(l[h].open_parent?' class="open_parent"':"")+(p?' class="has_children"':"")+' style="width: '+b.categories.width+"px; height: "+b.categories.height+'px;"><a href="#" class="'+(l[h].open_parent?"back_button":"category")+'"><span>'+l[h].name+"</span></a>",p&&(e+='<a href="#" class="open_children"></a>'),e+="</li>",a.append(e);f.categories.pages=f.categories.container.find("> ul");e=f.categories.pages.find("> li > a.category");a=e.eq(0);r=b.categories.height-
(a.outerHeight(!0)-a.height());e.height(r);e.each(function(){var a=k(this).find("span"),b=a.height();r>b?a.css({top:Math.floor((r-b)/2)}):a.css({top:0})})}else 1<m.length&&n++,c.categories.render_categories=!0;d.categories.select(n)}},trigger:function(){f.categories.container.delegate("li > a","click",function(){var a=k(this),b=a.parent(),l=b.parent().index()*c.categories.per_page+b.index();f.categories.pages.find("> li").eq(0).hasClass("open_parent")&&l--;if(a.hasClass("category")){if(b.hasClass("on"))return!1;
m.pop();m.push(l);x=d.category_ids_from_indexes(m);h=d.get_category(m);h.item_count=h.items.length;n={id:h.items[0].id,index:0};c.categories.render_categories=!1;d.change_category()}else a.hasClass("open_children")?(m.pop(),m.push(l),m.push(0),x=d.category_ids_from_indexes(m),h=d.get_category(m),h.item_count=h.items.length,n={id:h.items[0].id,index:0},d.change_category()):a.hasClass("back_button")&&(m.pop(),x=d.category_ids_from_indexes(m),h=d.get_category(m),h.item_count=h.items.length,n={id:h.items[0].id,
index:0},d.change_category());return!1})},select:function(a){a=f.categories.pages.find("> li").eq(a);d._items_panel.move_to_page("categories",a.parent().index());f.categories.pages.find("> li.on").removeClass("on");a.addClass("on")}},change_category:function(){d.main_panel.display_category();d.categories.display_categories();d.thumbnails.display_category();d.pagination.display_category();d.gallery_title.select();d.gallery_info.display();d.arrows.display_category();d.autoplay_toggle.display_category();
d.autoplay.display_category();d.show_item(n.index,!0)},arrows:{init:function(){I=k('<a href="#" class="navigation_button prev">Previous</a>');J=k('<a href="#" class="navigation_button next">Next</a>');p.prepend(I,J);d.position_element(I,b.arrows.prev.position);d.position_element(J,b.arrows.next.position);d.arrows.display_category()},trigger:function(){I.click(function(){d.prev();return!1});J.click(function(){d.next();return!1});b.arrows.auto_hide&&(I.fadeTo(0,0),J.fadeTo(0,0),p.hover(function(){1!=
h.item_count&&(I.stop().fadeTo(b.arrows.hide_speed,1),J.stop().fadeTo(b.arrows.hide_speed,1))},function(){I.stop().fadeTo(b.arrows.hide_speed,0);J.stop().fadeTo(b.arrows.hide_speed,0)}))},display_category:function(){var a="";1==h.item_count&&(a="none");I.css("display",a);J.css("display",a)}},_title_box:{init:function(a){var e,l;c.title_boxes[a.box]=k('<span class="title_box'+(a.custom_class?" "+a.custom_class:"")+'" style="height: '+b.title_boxes[a.box].height+'px;"><span>T</span></span>');e=c.title_boxes[a.box].find("> span");
c.title_boxes[a.box].css("visibility","hidden");p.prepend(c.title_boxes[a.box]);d.position_element(c.title_boxes[a.box],b.title_boxes[a.box].position);l=Math.floor((b.title_boxes[a.box].height-e.height())/2);0>l&&(l=0);e.css({top:l}).empty();c.title_boxes[a.box].css("visibility","")},change_text:function(a){a.text?c.title_boxes[a.box].is(":visible")?c.title_boxes[a.box].stop().fadeTo(200,0,function(){c.title_boxes[a.box].fadeTo(400,1).find("> span").html(a.text)}):c.title_boxes[a.box].stop().fadeTo(400,
1).find("> span").html(a.text):c.title_boxes[a.box].stop().fadeTo(200,0)}},item_title:{init:function(){d._title_box.init({box:"current_item",custom_class:"current_item"});d.item_title.select(n.index)},select:function(a){b.title_boxes.current_item.display&&d._title_box.change_text({box:"current_item",text:h.items[a].title})},size:function(){b.title_boxes.current_item.display&&d.position_element(c.title_boxes.current_item,b.title_boxes.current_item.position)}},gallery_title:{init:function(){d._title_box.init({box:"current_gallery",
custom_class:"current_gallery"});d.gallery_title.select()},select:function(){b.title_boxes.current_gallery.display&&d._title_box.change_text({box:"current_gallery",text:h.name})},size:function(){b.title_boxes.current_gallery.display&&d.position_element(c.title_boxes.current_gallery,b.title_boxes.current_gallery.position)}},triggers:function(){b.arrows.display&&d.arrows.trigger();b.thumbs.display&&d.thumbnails.trigger();b.categories.display&&d.categories.trigger();b.key_browse&&d.key_browse();b.autoplay.enable&&
d.autoplay.start();b.autoplay.pause_on_hover&&p.hover(function(){2>h.item_count||O||S||(S=!0,d.autoplay.pause())},function(){2>h.item_count||(S=!1,T||O||X||d.autoplay.start())});p.bind("resize_slider",function(){d.autoplay.reset();p.css(c.container_dimensions);d.main_panel.size();d.autoplay.size();d._scrollable_boxes.size("gallery_info");d._scrollable_boxes.size("item_info");d.gallery_title.size();d.item_title.size();d.thumbnails.display_category(!1);d.categories.display_categories();b.pagination.display&&
d.position_element(B,b.pagination.position);b.autoplay_toggle.display&&d.position_element(E,b.autoplay_toggle.position);b.arrows.display&&(d.position_element(I,b.arrows.prev.position),d.position_element(J,b.arrows.next.position));d.show_item(n.index,!0,"")});P.fadeOut(200,function(){P.remove()});p.trigger("slider_initialized")},get_dimensions:function(a){var b;b=1<arguments.length&&"object"==typeof arguments[1]?arguments[1]:{width:c.container_dimensions.width,height:c.container_dimensions.height};
return{width:a.w_as_ratio?Math.floor(b.width*a.width):a.width,height:a.h_as_ratio?Math.floor(b.height*a.height):a.height}},position_element:function(a,b){var d=b.v_as_ratio?Math.floor(b.v_offset*c.container_dimensions.height):b.v_offset,g=b.h_as_ratio?Math.floor(b.h_offset*c.container_dimensions.width):b.h_offset;b.v_center_point&&(d-=Math.floor(a.outerHeight()/2));b.h_center_point&&(g-=Math.floor(a.outerWidth()/2));"top"==b.vertical?a.css("top",d):a.css({top:"auto",bottom:d});"left"==b.horizontal?
a.css("left",g):a.css({left:"auto",right:g})},category_indexes_from_ids:function(a,b){var c=0,g,f=[];if(0==a.length)return[];for(g=k.isArray(b)?b.length:0;c<g;c++)if(b[c].id==a[0]){a.shift();if(0!=a.length&&(f=d.category_indexes_from_ids(a,b[c].children),0==f.length))break;return[c].concat(f)}return[]},category_ids_from_indexes:function(a){var b=a.length,c=1,d,f=A[a[0]];for(d=[f.id];c<b;c++)f=f.children[a[c]],d.push(f.id);return d},get_category:function(a){var b=a.length,c=1,d;if(!k.isArray(a)||0==
a.length)return A[0];for(d=A[a[0]];c<b;c++)d=d.children[a[c]];return d},item_index_from_id:function(a){var b=h.items,c=b.length,d=0;if(void 0==a)return 0;for(;d<c;d++)if(b[d].id==a)return d;return 0},set_url_param:function(a,b){var c,d,f=b+(2<arguments.length?"="+arguments[2]:""),h,k,m=!1,n;a=a.split("#");c=1==a.length?!1:a[1];a=a[0].split("?");if(1==a.length||""==a[1])d=a[0]+"?"+f;else{d=a[0]+"?";h=a[1].split("&");for(n in h)"string"==typeof h[n]&&(k=h[n].split("="),k[0]==b?(m=!0,d+=f+"&"):d=1==
k.length?d+(k[0]+"&"):d+(k[0]+"="+k[1]+"&"));d=m?d.substring(0,d.length-1):d+f}return d+(!1===c?"":"#"+c)}};d.init()})};k.fn.chameleonSlider_2_1_fullscreen=function(t){var b,v,x=function(){b.fadeTo(500,0,function(){v.trigger("destroy");b.remove()});k(L).unbind("keydown.chameleonslider_fullscreen_"+t.module_id)};b=k('<div id="chameleonSliderFullscreen_'+t.module_id+'" style="z-index: 15000; overflow: hidden; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, .5);"><div class="chameleon_slider '+
t.theme+'" /></div>');k("body").append(b);v=b.find("> .chameleon_slider");k.extend(!0,t,{container_dimensions:{width:1,height:1,w_as_ratio:!0,h_as_ratio:!0},autoplay:{pause_on_hover:!1},buttons:{exit_fullscreen:{display:!0},fullscreen:{display:!1}},main_panel:{stretch_small_image:!0}});v.bind("slider_initialized",function(){v.find("> .exit_fullscreen").click(function(){x();return!1});k(L).bind("keydown.chameleonslider_fullscreen_"+t.module_id,function(b){27==b.which&&x()})});v.chameleonSlider_2_1(t)}})(eds1_8,
window,document);