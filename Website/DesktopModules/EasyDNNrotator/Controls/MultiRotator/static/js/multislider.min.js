(function(h){window.averta={};(function(d){function c(){if("result"in arguments.callee)return arguments.callee.result;var a=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,e=document.getElementsByTagName("script")[0],b;for(b in e.style)if(a.test(b))return arguments.callee.result=b.match(a)[0];return"WebkitOpacity"in e.style?arguments.callee.result="Webkit":"KhtmlOpacity"in e.style?arguments.callee.result="Khtml":arguments.callee.result=""}function b(a){var e=(document.body||document.documentElement).style;
if("string"==typeof e[a])return!0;v=["Moz","Webkit","Khtml","O","ms"];a=a.charAt(0).toUpperCase()+a.substr(1);for(var b=0;b<v.length;b++)if("string"==typeof e[v[b]+a])return!0;return!1}window["package"]=function(a){window[a]||(window[a]={})};Function.prototype.extend=function(a){if("function"===typeof a.prototype.constructor){var e=this.prototype;a=a.prototype;for(var b in a)e[b]=a[b]}else this.prototype.extend(a);this.prototype.constructor=this};var a={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",
O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);window._touch="ontouchstart"in document;d(document).ready(function(){window._jcsspfx=c();window._csspfx=a[window._jcsspfx];window._cssanim=b("transition");var e=window,d;if(b("transform")){d=document.createElement("i");var k,l={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",
Transform:"transform",transform:"transform"};d.style.display="block";document.body.insertBefore(d,null);for(var p in l)void 0!==d.style[p]&&(d.style[p]="translate3d(1px,1px,1px)",k=window.getComputedStyle(d).getPropertyValue(l[p]));document.body.removeChild(d);d=null!=k&&0<k.length&&"none"!==k}else d=!1;e._css3d=d;window._css2d=b("transform")});window.parseQueryString=function(a){var e={};a.replace(RegExp("([^?=&]+)(=([^&]*))?","g"),function(a,b,g,c){e[b]=c});return e};var e=50/3;window.requestAnimationFrame||
(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,e)}}());window.getComputedStyle||(window.getComputedStyle=function(a,e){this.el=a;this.getPropertyValue=function(e){var b=/(\-([a-z]){1})/g;"float"==e&&(e="styleFloat");b.test(e)&&(e=e.replace(b,function(a,e,b){return b.toUpperCase()}));return a.currentStyle[e]?a.currentStyle[e]:null};return a.currentStyle});
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,e){var b=this.length>>>0,c=Number(e)||0,c=0>c?Math.ceil(c):Math.floor(c);for(0>c&&(c+=b);c<b;c++)if(c in this&&this[c]===a)return c;return-1});window.isMSIE=function(a){if(!d.browser.msie)return!1;if(!a)return!0;var e=d.browser.version.slice(0,d.browser.version.indexOf("."));return"string"===typeof a?-1!==a.indexOf("<")||-1!==a.indexOf(">")?eval(e+a):eval(a+"=="+e):a==e};d.removeDataAttrs=function(a,e){var b,c,p=[],q=a[0].attributes,m=q.length;
e=e||[];for(b=0;b<m;b++)c=q[b].name,"data-"===c.substring(0,5)&&-1===e.indexOf(c)&&p.push(q[b].name);d.each(p,function(e,b){a.removeAttr(b)})};h&&(d.jqLoadFix=function(){if(this.complete){var a=this;setTimeout(function(){d(a).load()},1)}},h.uaMatch=h.uaMatch||function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];
return{browser:a[1]||"",version:a[2]||"0"}},matched=h.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),navigator.userAgent.match(/Trident\/7\./)&&(browser.msie="true",delete browser.mozilla),h.browser=browser,d.fn.preloadImg=function(a,e){this.each(function(){var b=d(this),c=this,p=new Image;p.onload=function(d){null==d&&(d={});b.attr("src",a);d.width=p.width;
d.height=p.height;b.data("width",p.width);b.data("height",p.height);setTimeout(function(){e.call(c,d)},50);p=null};p.src=a});return this})})(h);(function(){averta.EventDispatcher=function(){this.listeners={}};averta.EventDispatcher.extend=function(d){var c=new averta.EventDispatcher,b;for(b in c)"constructor"!=b&&(d[b]=averta.EventDispatcher.prototype[b])};averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(d,c,b){this.listeners[d]||(this.listeners[d]=[]);
this.listeners[d].push({listener:c,ref:b})},removeEventListener:function(d,c,b){if(this.listeners[d]){for(var a=0;a<this.listeners[d].length;++a)c===this.listeners[d][a].listener&&b===this.listeners[d][a].ref&&this.listeners[d].splice(a--,1);0===this.listeners[d].length&&(this.listeners[d]=null)}},dispatchEvent:function(d){d.target=this;if(this.listeners[d.type])for(var c=0,b=this.listeners[d.type].length;c<b;++c)this.listeners[d.type][c].listener.call(this.listeners[d.type][c].ref,d)}}})();(function(d){var c=
"ontouchstart"in document,b=window.navigator.pointerEnabled,a=!b&&window.navigator.msPointerEnabled,e=b||a,g=(b?"pointerdown ":"")+(a?"MSPointerDown ":"")+(c?"touchstart ":"")+"mousedown",f=(b?"pointermove ":"")+(a?"MSPointerMove ":"")+(c?"touchmove ":"")+"mousemove",k=(b?"pointerup ":"")+(a?"MSPointerUp ":"")+(c?"touchend ":"")+"mouseup",l=(b?"pointercancel ":"")+(a?"MSPointerCancel ":"")+"touchcancel";averta.TouchSwipe=function(a){this.$element=a;this.enabled=!0;a.bind(g,{target:this},this.__touchStart);
a[0].swipe=this;this.onSwipe=null;this.swipeType="horizontal";this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe";this.lastStatus={}};b=averta.TouchSwipe.prototype;b.getDirection=function(a,e){switch(this.swipeType){case "horizontal":return a<=this.start_x?"left":"right";case "vertical":return e<=this.start_y?"up":"down";case "all":return Math.abs(a-this.start_x)>Math.abs(e-this.start_y)?a<=this.start_x?"left":"right":e<=this.start_y?"up":"down"}};b.priventDefultEvent=function(a,
e){var b=Math.abs(a-this.start_x),g=Math.abs(e-this.start_y),b=b>g;return"horizontal"===this.swipeType&&b||"vertical"===this.swipeType&&!b};b.createStatusObject=function(a){var e={},b,g;b=this.lastStatus.distanceX||0;g=this.lastStatus.distanceY||0;e.distanceX=a.pageX-this.start_x;e.distanceY=a.pageY-this.start_y;e.moveX=e.distanceX-b;e.moveY=e.distanceY-g;e.distance=parseInt(Math.sqrt(Math.pow(e.distanceX,2)+Math.pow(e.distanceY,2)));e.duration=(new Date).getTime()-this.start_time;e.direction=this.getDirection(a.pageX,
a.pageY);return e};b.__reset=function(a,b){this.reset=!1;this.lastStatus={};this.start_time=(new Date).getTime();this.start_x=c?a.touches[0].pageX:e?a.pageX:b.pageX;this.start_y=c?a.touches[0].pageY:e?a.pageY:b.pageY};b.__touchStart=function(a){var b=a.data.target,g=a;!b.enabled||0<d(a.target).closest(b.noSwipeSelector,b.$element).length||((a=a.originalEvent,e&&d(this).css("-ms-touch-action","horizontal"===b.swipeType?"pan-y":"pan-x"),b.onSwipe)?b.touchStarted||(b.start_x=c?a.touches[0].pageX:e?a.pageX:
g.pageX,b.start_y=c?a.touches[0].pageY:e?a.pageY:g.pageY,b.start_time=(new Date).getTime(),d(document).bind(k,{target:b},b.__touchEnd).bind(f,{target:b},b.__touchMove).bind(l,{target:b},b.__touchCancel),a=b.createStatusObject(c?a.touches[0]:e?a:g),a.phase="start",b.onSwipe.call(null,a),c||g.preventDefault(),b.lastStatus=a,b.touchStarted=!0):d.error("Swipe listener is undefined"))};b.__touchMove=function(a){var b=a.data.target,g=a;a=a.originalEvent;if(b.touchStarted){clearTimeout(b.timo);b.timo=setTimeout(function(){b.__reset(a,
g)},60);var d=c?a.touches[0]:e?a:g,l=b.createStatusObject(d);b.priventDefultEvent(d.pageX,d.pageY)&&g.preventDefault();l.phase="move";b.lastStatus=l;b.onSwipe.call(null,l)}};b.__touchEnd=function(a){var e=a.data.target;clearTimeout(e.timo);var b=e.lastStatus;c||a.preventDefault();b.phase="end";e.touchStarted=!1;e.priventEvt=null;d(document).unbind(k,e.__touchEnd).unbind(f,e.__touchMove).unbind(l,e.__touchCancel);b.speed=b.distance/b.duration;e.onSwipe.call(null,b)};b.__touchCancel=function(a){a.data.target.__touchEnd(a)};
b.enable=function(){this.enabled||(this.enabled=!0)};b.disable=function(){this.enabled&&(this.enabled=!1)}})(h);(function(){averta.Ticker=function(){};var d=averta.Ticker,c=[],b=0,a=!0;d.add=function(a,e){c.push([a,e]);1===c.length&&d.start();return b=c.length};d.remove=function(a,e){for(var k=0,l=c.length;k<l;++k)c[k]&&c[k][0]===a&&c[k][1]===e&&c.splice(k,1);b=c.length;0===b&&d.stop()};d.start=function(){a&&(a=!1,e())};d.stop=function(){a=!0};var e=function(){if(!d.__stopped){for(var a,f=0;f!==b;f++)a=
c[f],a[0].call(a[1]);requestAnimationFrame(e)}}})();(function(){Date.now||(Date.now=function(){return(new Date).getTime()});averta.Timer=function(d,c){this.delay=d;this.currentCount=0;this.paused=!1;this.refrence=this.onTimer=null;c&&this.start()};averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1;this.lastTime=Date.now();averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0;averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0;this.paused=
!0;this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}})();(function(){window.CSSTween=function(c,b,a,e){this.$element=c;this.duration=b||1E3;this.delay=a||0;this.ease=e||"linear"};var d=CSSTween.prototype;d.to=function(c,b){this.to_cb=c;this.to_cb_target=b;return this};d.from=function(c,b){this.fr_cb=
c;this.fr_cb_target=b;return this};d.onComplete=function(c,b){this.oc_fb=c;this.oc_fb_target=b;return this};d.chain=function(c){this.chained_tween=c;return this};d.reset=function(){clearTimeout(this.start_to);clearTimeout(this.end_to)};d.start=function(){var c=this.$element[0];clearTimeout(this.start_to);clearTimeout(this.end_to);this.fresh=!0;this.fr_cb&&(c.style[window._jcsspfx+"TransitionDuration"]="0ms",this.fr_cb.call(this.fr_cb_target));var b=this;this.onTransComplete=function(a){b.fresh&&(b.reset(),
c.style[window._jcsspfx+"TransitionDuration"]="",c.style[window._jcsspfx+"TransitionProperty"]="",c.style[window._jcsspfx+"TransitionTimingFunction"]="",c.style[window._jcsspfx+"TransitionDelay"]="",b.fresh=!1,b.chained_tween&&b.chained_tween.start(),b.oc_fb&&b.oc_fb.call(b.oc_fb_target))};this.start_to=setTimeout(function(){b.$element&&(c.style[window._jcsspfx+"TransitionDuration"]=b.duration+"ms",c.style[window._jcsspfx+"TransitionProperty"]=b.transProperty||"all",c.style[window._jcsspfx+"TransitionDelay"]=
0<b.delay?b.delay+"ms":"",c.style[window._jcsspfx+"TransitionTimingFunction"]=b.ease,b.to_cb&&b.to_cb.call(b.to_cb_target),b.end_to=setTimeout(function(){b.onTransComplete()},b.duration+(b.delay||0)))},100);return this}})();(function(){function d(b,a){if(void 0!==a.x||void 0!==a.y)if(c){var e=window._jcsspfx+"Transform";void 0!==a.x&&(a[e]=(a[e]||"")+" translateX("+a.x+"px)",delete a.x);void 0!==a.y&&(a[e]=(a[e]||"")+" translateY("+a.y+"px)",delete a.y)}else void 0!==a.x&&(e="auto"!==b.css("right")?
"right":"left",a[e]=a.x+"px",delete a.x),void 0!==a.y&&(e="auto"!==b.css("bottom")?"bottom":"top",a[e]=a.y+"px",delete a.y);return a}var c=null;window.CTween={};CTween.setPos=function(b,a){b.css(d(b,a))};CTween.animate=function(b,a,e,g){null==c&&(c=window._cssanim);g=g||{};d(b,e);if(c){a=new CSSTween(b,a,g.delay,EaseDic[g.ease]);g.transProperty&&(a.transProperty=g.transProperty);a.to(function(){b.css(e)});if(g.complete)a.onComplete(g.complete,g.target);a.start();a.stop=a.reset;return a}var f;g.delay&&
b.delay(g.delay);g.complete&&(f=function(){g.complete.call(g.target)});b.stop(!0).animate(e,a,g.ease||"linear",f);return b};CTween.fadeOut=function(b,a,e){var g={};!0===e?g.complete=function(){b.remove()}:2===e&&(g.complete=function(){b.css("display","none")});CTween.animate(b,a||1E3,{opacity:0},g)};CTween.fadeIn=function(b,a,e){!1!==e&&b.css("opacity",0).css("display","");CTween.animate(b,a||1E3,{opacity:1})}})();window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",
easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",
easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};
(function(){window.MSAligner=function(c,b,a){this.$container=b;this.$img=a;this.type=c||"stretch";this.heightOnly=this.widthOnly=!1};var d=MSAligner.prototype;d.init=function(c,b){this.baseWidth=c;this.baseHeight=b;this.imgRatio=c/b;this.imgRatio2=b/c;switch(this.type){case "tile":this.$container.css("background-image","url("+this.$img.attr("src")+")");this.$img.remove();break;case "center":this.$container.css("background-image","url("+this.$img.attr("src")+")");this.$container.css({backgroundPosition:"center center",
backgroundRepeat:"no-repeat"});this.$img.remove();break;case "stretch":this.$img.css({width:"100%",height:"100%"});break;case "fill":case "fit":this.needAlign=!0,this.align()}};d.align=function(){if(this.needAlign){var c=this.$container.width(),b=this.$container.height(),a=c/b;"fill"==this.type?this.imgRatio<a?(this.$img.width(c),this.$img.height(c*this.imgRatio2)):(this.$img.height(b),this.$img.width(b*this.imgRatio)):"fit"==this.type&&(this.imgRatio<a?(this.$img.height(b),this.$img.width(b*this.imgRatio)):
(this.$img.width(c),this.$img.height(c*this.imgRatio2)));this.setMargin()}};d.setMargin=function(){var c=this.$container.width(),b=this.$container.height();this.$img.css("margin-top",(b-this.$img[0].offsetHeight)/2+"px");this.$img.css("margin-left",(c-this.$img[0].offsetWidth)/2+"px")}})();(function(){var d={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},c=function(a,e,b){if(null===e||null===
a)throw Error("Max and Min values are required.");this.options=b||{};for(var c in d)c in this.options||(this.options[c]=d[c]);this._max_value=e;this.end_loc=this.value=this._min_value=a;this.current_snap=this.getSnapNum(a);this.__extraMove=this.__extrStep=0;this.__animID=-1},b=c.prototype;b.changeTo=function(a,e,b,c,d){this.stopped=!1;this._internalStop();a=this._checkLimits(a);b=Math.abs(b||0);this.options.snapping&&(c=c||this.getSnapNum(a),!1!==d&&this._callsnapChange(c),this.current_snap=c);if(e){this.animating=
!0;var l=this,p=++l.__animID,q=a-l.value,m=0,h=a;e=1-l.options.friction;var u=e+(b-20)*e*1.3/l.options.maxSpeed,t=function(){p===l.__animID&&(Math.abs(a-l.value)>l.options.minValidDist&&l.animating?(window.requestAnimationFrame(t),l.value=h-q*Math.exp(-++m*u),l._callrenderer()):(l.animating&&(l.value=a,l._callrenderer()),l.animating=!1,p!==l.__animID&&(l.__animID=-1),l._callonComplete("anim")))};t()}else this.value=a,this._callrenderer()};b.drag=function(a){this.start_drag&&(this.drag_start_loc=this.value,
this.start_drag=!1);this._deceleration=this.animating=!1;this.value-=a;!this.options.endless&&(this.value>this._max_value||0>this.value)?this.options.bouncing?(this.__isout=!0,this.value+=.6*a):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1);this._callrenderer()};b.push=function(a){this.stopped=!1;if(this.options.snapping&&Math.abs(a)<=this.options.snappingMinSpeed)this.cancel();else{this.__startSpeed=this.__speed=a;this.end_loc=
this._calculateEnd();if(this.options.snapping){var e=this.getSnapNum(this.value),b=this.getSnapNum(this.end_loc);if(this.options.paging){e=this.getSnapNum(this.drag_start_loc);this.__isout=!1;0<a?this.gotoSnap(e+1,!0,a):this.gotoSnap(e-1,!0,a);return}if(e===b){this.cancel();return}this._callsnapChange(b);this.current_snap=b}this.animating=!1;this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value;this.options.snapping&&this.__needsSnap&&(this.__extraMove=
this._calculateExtraMove(this.end_loc));this._startDecelaration()}};b.bounce=function(a){this.animating||(this.animating=this.stopped=!1,this.__startSpeed=this.__speed=a,this.end_loc=this._calculateEnd(),this._startDecelaration())};b.stop=function(){this.stopped=!0;this._internalStop()};b.cancel=function(){this.start_drag=!0;this.__isout?(this.__speed=4E-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)};b.renderCallback=function(a,e){this.__renderHook=
{fun:a,ref:e}};b.snappingCallback=function(a,e){this.__snapHook={fun:a,ref:e}};b.snapCompleteCallback=function(a,e){this.__compHook={fun:a,ref:e}};b.getSnapNum=function(a){return Math.floor((a+this.options.snapsize/2)/this.options.snapsize)};b.nextSnap=function(){this._internalStop();var a=this.getSnapNum(this.value);!this.options.endless&&(a+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(a+1,!0)};b.prevSnap=function(){this._internalStop();
var a=this.getSnapNum(this.value);!this.options.endless&&(a-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(a-1,!0)};b.gotoSnap=function(a,e,b){this.changeTo(a*this.options.snapsize,e,b,a)};b.destroy=function(){this._internalStop();this.__compHook=this.__snapHook=this.__renderHook=null};b._internalStop=function(){this.start_drag=!0;this._deceleration=this.animating=!1;this.__extrStep=0};b._calculateExtraMove=function(a){a%=this.options.snapsize;
return a<this.options.snapsize/2?-a:this.options.snapsize-a};b._calculateEnd=function(a){for(var e=this.__speed,b=this.value,c=0;Math.abs(e)>this.options.minValidDist;)b+=e,e*=this.options.friction,c++;return a?c:b};b._checkLimits=function(a){return this.options.endless?a:a<this._min_value?this._min_value:a>this._max_value?this._max_value:a};b._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)};b._callsnapChange=function(a){this.__snapHook&&
a!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,a,a-this.current_snap)};b._callonComplete=function(a){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,a)};b._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var a=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+a-this.__extrStep;this.__extrStep=a}else this.value+=this.__speed;this.__speed*=this.options.friction;
this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0));this._callrenderer();!this.options.endless&&this.options.bouncing&&(a=0,this.value<this._min_value?a=this._min_value-this.value:this.value>this._max_value&&(a=this._max_value-this.value),this.__isout=Math.abs(a)>=this.options.minValidDist)&&(this.__speed=0>=this.__speed*a?this.__speed+a*this.options.outFriction:
a*this.options.outAcceleration)};b._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var a=this,e=function(){a._deceleration&&(a._computeDeceleration(),Math.abs(a.__speed)>a.options.minValidDist||a.__isout?window.requestAnimationFrame(e):(a._deceleration=!1,a.__isout=!1,a.value=a.__needsSnap&&a.options.snapping&&!a.options.paging?a._checkLimits(a.end_loc+a.__extraMove):Math.round(a.value),a._callrenderer(),a._callonComplete("decel")))};e()}};window.Controller=c})();(function(d,
c,b){d.MSLayerController=function(a){this.slide=a;this.slider=a.slider;this.layers=[];this.preloadCount=this.layersLen=0;this.$layers=b("<div></div>").addClass("ms-slide-layers");this.$staticLayers=b("<div></div>").addClass("ms-static-layers");this.$fixedLayers=b("<div></div>").addClass("ms-fixed-layers");this.$animLayers=b("<div></div>").addClass("ms-anim-layers")};d=MSLayerController.prototype;d.addLayer=function(a){a.slide=this.slide;a.controller=this;switch(a.$element.data("position")){case "static":this.hasStaticLayer=
!0;a.$element.appendTo(this.$staticLayers);break;case "fixed":this.hasFixedLayer=!0;a.$element.appendTo(this.$fixedLayers);break;default:a.$element.appendTo(this.$animLayers)}a.create();this.layers.push(a);this.layersLen++;a.parallax&&(this.hasParallaxLayer=!0);a.needPreload&&this.preloadCount++};d.create=function(){this.slide.$element.append(this.$layers);this.$layers.append(this.$animLayers);this.hasStaticLayer&&this.$layers.append(this.$staticLayers);"center"==this.slider.options.layersMode&&(this.$layers.css("max-width",
this.slider.options.width+"px"),this.hasFixedLayer&&this.$fixedLayers.css("max-width",this.slider.options.width+"px"))};d.loadLayers=function(a){this._onReadyCallback=a;if(0===this.preloadCount)this._onlayersReady();else for(a=0;a!==this.layersLen;++a)this.layers[a].needPreload&&this.layers[a].loadImage()};d.prepareToShow=function(){this.hasParallaxLayer&&this._enableParallaxEffect();this.hasFixedLayer&&this.$fixedLayers.prependTo(this.slide.view.$element)};d.showLayers=function(){this.layersHideTween&&
this.layersHideTween.stop(!0);this.fixedLayersHideTween&&this.fixedLayersHideTween.stop(!0);this._resetLayers();this.$animLayers.css("opacity","").css("display","");this.hasFixedLayer&&this.$fixedLayers.css("opacity","").css("display","");this.ready&&(this._initLayers(),this._locateLayers(),this._startLayers())};d.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){var a=this;a.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete:function(){a._resetLayers()}});
this.hasFixedLayer&&(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete:function(){a.$fixedLayers.detach()}}));this.hasParallaxLayer&&this._disableParallaxEffect()}};d.animHideLayers=function(){if(this.ready)for(var a=0;a!==this.layersLen;++a)this.layers[a].hide()};d.setSize=function(a,e,b){this.ready&&(this.slide.selected||this.hasStaticLayer)&&(b&&this._initLayers(!0),this._locateLayers(!this.slide.selected));this.slider.options.autoHeight&&this.updateHeight();
"center"==this.slider.options.layersMode&&(a=Math.max(0,(a-this.slider.options.width)/2)+"px",this.$layers[0].style.left=a,this.$fixedLayers[0].style.left=a)};d.updateHeight=function(){var a=this.slide.getHeight()+"px";this.$layers[0].style.height=a;this.$fixedLayers[0].style.height=a};d._onlayersReady=function(){this.ready=!0;this.hasStaticLayer&&!this.slide.isSleeping&&this._initLayers(!1,!0);this._onReadyCallback.call(this.slide)};d.onSlideSleep=function(){};d.onSlideWakeup=function(){this.hasStaticLayer&&
this.ready&&this._initLayers(!1,!0)};d.destroy=function(){this.slide.selected&&this.hasParallaxLayer&&this._disableParallaxEffect();for(var a=0;a<this.layersLen;++a)this.layers[a].$element.stop(!0).remove();this.$layers.remove();this.$staticLayers.remove();this.$fixedLayers.remove();this.$animLayers.remove()};d._startLayers=function(){for(var a=0;a!==this.layersLen;++a)this.layers[a].start()};d._initLayers=function(a,e){if(!(this.init&&!a||this.slider.init_safemode)){this.init=!0!==e;var b=0;if(e&&
!this.staticsInit)for(this.staticsInit=!0;b!==this.layersLen;++b)this.layers[b].staticLayer&&this.layers[b].init();else if(this.staticsInit&&!a)for(;b!==this.layersLen;++b)this.layers[b].staticLayer||this.layers[b].init();else for(;b!==this.layersLen;++b)this.layers[b].init()}};d._locateLayers=function(a){var e=0;if(a)for(;e!==this.layersLen;++e)this.layers[e].staticLayer&&this.layers[e].locate();else for(;e!==this.layersLen;++e)this.layers[e].locate()};d._resetLayers=function(){this.$animLayers.css("display",
"none").css("opacity",1);for(var a=0;a!==this.layersLen;++a)this.layers[a].reset()};d._applyParallax=function(a,e,b){for(var c=0;c!==this.layersLen;++c)null!=this.layers[c].parallax&&this.layers[c].moveParallax(a,e,b)};d._enableParallaxEffect=function(){if("swipe"===this.slider.options.parallaxMode)this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this);else this.slide.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)};
d._disableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)};d._resetParalax=function(a){a.data.that._applyParallax(0,0)};d._mouseParallaxMove=function(a){var e=a.data.that,b=e.slide.$element.offset(),c=e.slider;e._applyParallax(-("mouse:y-only"!==c.options.parallaxMode?a.pageX-b.left-e.slide.__width/
2:0),-("mouse:x-only"!==c.options.parallaxMode?a.pageY-b.top-e.slide.__height/2:0))};d._swipeParallaxMove=function(a){this._applyParallax(this.slide.position-this.slide.view.__contPos,0,!0)}})(window,document,h);(function(d){window.MSLayerEffects={};var c,b={opacity:0};MSLayerEffects.setup=function(){if(!c){c=!0;var a=MSLayerEffects,e=window._jcsspfx+"Transform",g=window._jcsspfx+"TransformOrigin",f=d.browser.opera;_2d=window._css2d&&window._cssanim&&!f;a.defaultValues={left:0,top:0,opacity:isMSIE("<9")?
1:"",right:0,bottom:0};a.defaultValues[e]="";a.rf=1;a.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"};a.fade=function(){return b};a.left=_2d?function(b,g){var c=!1===g?{}:{opacity:0};c[e]="translateX("+-b*a.rf+"px)";return c}:function(e,b){var g=!1===b?{}:{opacity:0};g.left=-e*a.rf+"px";return g};
a.right=_2d?function(b,g){var c=!1===g?{}:{opacity:0};c[e]="translateX("+b*a.rf+"px)";return c}:function(e,b){var g=!1===b?{}:{opacity:0};g.left=e*a.rf+"px";return g};a.top=_2d?function(b,g){var c=!1===g?{}:{opacity:0};c[e]="translateY("+-b*a.rf+"px)";return c}:function(e,b){var g=!1===b?{}:{opacity:0};g.top=-e*a.rf+"px";return g};a.bottom=_2d?function(b,g){var c=!1===g?{}:{opacity:0};c[e]="translateY("+b*a.rf+"px)";return c}:function(e,b){var g=!1===b?{}:{opacity:0};g.top=e*a.rf+"px";return g};a.from=
_2d?function(b,g,c){c=!1===c?{}:{opacity:0};c[e]="translateX("+b*a.rf+"px) translateY("+g*a.rf+"px)";return c}:function(e,b,g){g=!1===g?{}:{opacity:0};g.top=b*a.rf+"px";g.left=e*a.rf+"px";return g};a.rotate=_2d?function(a,b){var c={opacity:0};c[e]=" rotate("+a+"deg)";b&&(c[g]=b);return c}:function(a,e){return b};a.rotateleft=_2d?function(b,c,d,f){c=a.left(c,f);c[e]+=" rotate("+b+"deg)";d&&(c[g]=d);return c}:function(e,b,g,c){return a.left(b,c)};a.rotateright=_2d?function(b,c,d,f){c=a.right(c,f);c[e]+=
" rotate("+b+"deg)";d&&(c[g]=d);return c}:function(e,b,g,c){return a.right(b,c)};a.rotatetop=_2d?function(b,c,d,f){c=a.top(c,f);c[e]+=" rotate("+b+"deg)";d&&(c[g]=d);return c}:function(e,b,c,g){return a.top(b,g)};a.rotatebottom=_2d?function(b,c,d,f){c=a.bottom(c,f);c[e]+=" rotate("+b+"deg)";d&&(c[g]=d);return c}:function(e,b,c,g){return a.bottom(b,g)};a.rotatefrom=_2d?function(b,c,d,f,m){c=a.from(c,d,m);c[e]+=" rotate("+b+"deg)";f&&(c[g]=f);return c}:function(e,b,c,g,d){return a.from(b,c,d)};a.skewleft=
_2d?function(b,c,g){c=a.left(c,g);c[e]+=" skewX("+b+"deg)";return c}:function(e,b,c){return a.left(b,c)};a.skewright=_2d?function(b,c,g){c=a.right(c,g);c[e]+=" skewX("+-b+"deg)";return c}:function(e,b,c){return a.right(b,c)};a.skewtop=_2d?function(b,c,g){c=a.top(c,g);c[e]+=" skewY("+b+"deg)";return c}:function(e,b,c){return a.top(b,c)};a.skewbottom=_2d?function(b,c,g){c=a.bottom(c,g);c[e]+=" skewY("+-b+"deg)";return c}:function(e,b,c){return a.bottom(b,c)};a.scale=_2d?function(a,b,c,d){d=!1===d?{}:
{opacity:0};d[e]=" scaleX("+a+") scaleY("+b+")";c&&(d[g]=c);return d}:function(a,e,b,c){return!1===c?{}:{opacity:0}};a.scaleleft=_2d?function(b,c,d,f,m){d=a.left(d,m);d[e]=" scaleX("+b+") scaleY("+c+")";f&&(d[g]=f);return d}:function(e,b,c,g,d){return a.left(c,d)};a.scaleright=_2d?function(b,c,d,f,m){d=a.right(d,m);d[e]=" scaleX("+b+") scaleY("+c+")";f&&(d[g]=f);return d}:function(e,b,c,g,d){return a.right(c,d)};a.scaletop=_2d?function(b,c,d,f,m){d=a.top(d,m);d[e]=" scaleX("+b+") scaleY("+c+")";f&&
(d[g]=f);return d}:function(e,b,c,g,d){return a.top(c,d)};a.scalebottom=_2d?function(b,c,d,f,m){d=a.bottom(d,m);d[e]=" scaleX("+b+") scaleY("+c+")";f&&(d[g]=f);return d}:function(e,b,c,g,d){return a.bottom(c,d)};a.scalefrom=_2d?function(b,c,d,f,m,h){d=a.from(d,f,h);d[e]+=" scaleX("+b+") scaleY("+c+")";m&&(d[g]=m);return d}:function(e,b,c,g,d,f){return a.from(c,g,f)};a.rotatescale=_2d?function(b,c,d,f,m){c=a.scale(c,d,f,m);c[e]+=" rotate("+b+"deg)";f&&(c[g]=f);return c}:function(e,b,c,g,d){return a.scale(b,
c,g,d)};a.front=window._css3d?function(a,b){var c=!1===b?{}:{opacity:0};c[e]="perspective(2000px) translate3d(0 , 0 ,"+a+"px ) rotate(0.001deg)";return c}:function(a){return b};a.back=window._css3d?function(a,b){var c=!1===b?{}:{opacity:0};c[e]="perspective(2000px) translate3d(0 , 0 ,"+-a+"px ) rotate(0.001deg)";return c}:function(a){return b};a.rotatefront=window._css3d?function(a,b,c,d){d=!1===d?{}:{opacity:0};d[e]="perspective(2000px) translate3d(0 , 0 ,"+b+"px ) rotate("+(a||.001)+"deg)";c&&(d[g]=
c);return d}:function(a,e,c,g){return b};a.rotateback=window._css3d?function(a,b,c,d){d=!1===d?{}:{opacity:0};d[e]="perspective(2000px) translate3d(0 , 0 ,"+-b+"px ) rotate("+(a||.001)+"deg)";c&&(d[g]=c);return d}:function(a,e,c,g){return b};a.rotate3dleft=window._css3d?function(b,c,d,f,m,h){f=a.left(f,h);f[e]+=(b?" rotateX("+b+"deg)":" ")+(c?" rotateY("+c+"deg)":"")+(d?" rotateZ("+d+"deg)":"");m&&(f[g]=m);return f}:function(e,b,c,g,d,f){return a.left(g,f)};a.rotate3dright=window._css3d?function(b,
c,d,f,m,h){f=a.right(f,h);f[e]+=(b?" rotateX("+b+"deg)":" ")+(c?" rotateY("+c+"deg)":"")+(d?" rotateZ("+d+"deg)":"");m&&(f[g]=m);return f}:function(e,b,c,g,d,f){return a.right(g,f)};a.rotate3dtop=window._css3d?function(b,c,d,f,m,h){f=a.top(f,h);f[e]+=(b?" rotateX("+b+"deg)":" ")+(c?" rotateY("+c+"deg)":"")+(d?" rotateZ("+d+"deg)":"");m&&(f[g]=m);return f}:function(e,b,c,g,d,f){return a.top(g,f)};a.rotate3dbottom=window._css3d?function(b,c,d,f,h,r){f=a.bottom(f,r);f[e]+=(b?" rotateX("+b+"deg)":" ")+
(c?" rotateY("+c+"deg)":"")+(d?" rotateZ("+d+"deg)":"");h&&(f[g]=h);return f}:function(e,b,c,g,d,f){return a.bottom(g,f)};a.rotate3dfront=window._css3d?function(b,c,d,f,h,r){f=a.front(f,r);f[e]+=(b?" rotateX("+b+"deg)":" ")+(c?" rotateY("+c+"deg)":"")+(d?" rotateZ("+d+"deg)":"");h&&(f[g]=h);return f}:function(b,e,c,g,d,f){return a.front(g,f)};a.rotate3dback=window._css3d?function(b,c,d,f,h,r){f=a.back(f,r);f[e]+=(b?" rotateX("+b+"deg)":" ")+(c?" rotateY("+c+"deg)":"")+(d?" rotateZ("+d+"deg)":"");
h&&(f[g]=h);return f}:function(b,e,c,g,d,f){return a.back(g,f)};a.t=window._css3d?function(b,c,d,f,h,r,u,t,w,x,y,z,A,B,C){b=!1===b?{}:{opacity:0};var n="perspective(2000px) ";"n"!==c&&(n+="translateX("+c*a.rf+"px) ");"n"!==d&&(n+="translateY("+d*a.rf+"px) ");"n"!==f&&(n+="translateZ("+f*a.rf+"px) ");"n"!==h&&(n+="rotate("+h+"deg) ");"n"!==r&&(n+="rotateX("+r+"deg) ");"n"!==u&&(n+="rotateY("+u+"deg) ");"n"!==t&&(n+="rotateZ("+t+"deg) ");"n"!==y&&(n+="skewX("+y+"deg) ");"n"!==z&&(n+="skewY("+z+"deg) ");
"n"!==w&&(n+="scaleX("+w+") ");"n"!==x&&(n+="scaleY("+x+")");b[e]=n;c=""+("n"!==A?A+"% ":"50% ")+("n"!==B?B+"% ":"50% ");c+="n"!==C?C+"px":"";b[g]=c;return b}:function(b,e,c,g,d,f,h,t,w,x,y,z,A,B,C){d=!1===b?{}:{opacity:0};"n"!==e&&(d.left=e*a.rf+"px");"n"!==c&&(d.top=c*a.rf+"px");return d}}}})(h);(function(d){window.MSLayerElement=function(){this.start_anim={name:"fade",duration:1E3,ease:"linear",delay:0};this.end_anim={duration:1E3,ease:"linear"};this.type="text";this.resizable=!0;this.minWidth=
-1;this.isVisible=!0;this.__cssConfig="margin-top padding-top margin-bottom padding-left margin-right padding-right margin-left padding-bottom font-size line-height width left right top bottom".split(" ");this.baseStyle={}};var c=MSLayerElement.prototype;c.setStartAnim=function(b){d.extend(this.start_anim,b);d.extend(this.start_anim,this._parseEff(this.start_anim.name));this.$element.css("visibility","hidden")};c.setEndAnim=function(b){d.extend(this.end_anim,b)};c.create=function(){this.$element.css("display",
"none");this.resizable=!1!==this.$element.data("resize");this.fixed=!0===this.$element.data("fixed");void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit"));this.end_anim.name||(this.end_anim.name=this.start_anim.name);this.end_anim.time&&(this.autoHide=!0);this.staticLayer="static"===this.$element.data("position");this.fixedLayer="fixed"===this.$element.data("position");this.layersCont=this.controller.$layers;this.staticLayer&&this.$element.css("display","").css("visibility",
"");if(void 0!==this.$element.data("action")){var b=this.slide.slider.slideController;this.$element.on("click",function(a){b.runAction(d(this).data("action"));a.preventDefault()}).addClass("ms-action-layer")}d.extend(this.end_anim,this._parseEff(this.end_anim.name));this.slider=this.slide.slider;var a=this.layerOrigin=this.$element.data("origin");if(a){var e=a.charAt(0),a=a.charAt(1),c=this.$element.data("offset-x"),f=this.$element.data("offset-y");void 0===f&&(f=0);switch(e){case "t":this.$element[0].style.top=
f+"px";break;case "b":this.$element[0].style.bottom=f+"px";break;case "m":this.$element[0].style.top=f+"px",this.middleAlign=!0}void 0===c&&(c=0);switch(a){case "l":this.$element[0].style.left=c+"px";break;case "r":this.$element[0].style.right=c+"px";break;case "c":this.$element[0].style.left=c+"px",this.centerAlign=!0}}this.parallax=this.$element.data("parallax");null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=d("<div></div>").addClass("ms-parallax-layer"),this.link?(this.link.wrap(this.$parallaxElement),
this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._paraY=this._paraX=this._lastParaY=this._lastParaX=0,(this.alignedToBot=this.layerOrigin&&-1!==this.layerOrigin.indexOf("b"))&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,
this));d.removeDataAttrs(this.$element,["data-src"])};c.init=function(){this.initialized=!0;var b;this.$element.css("visibility","");for(var a=0,e=this.__cssConfig.length;a<e;a++){var c=this.__cssConfig[a];"text"===this.type&&"width"===c?b=this.$element[0].style.width:(b=this.$element.css(c),"width"!==c&&"height"!==c||"0px"!==b||(b=this.$element.data(c)+"px"));"auto"!=b&&""!=b&&"normal"!=b&&(this.baseStyle[c]=parseInt(b))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1));this.centerAlign&&
(this.baseWidth=this.$element.outerWidth(!1))};c.locate=function(){if(this.slide.ready){var b=parseFloat(this.layersCont.css("width")),a=parseFloat(this.layersCont.css("height")),e,c;!this.staticLayer&&"none"===this.$element.css("display")&&this.isVisible&&this.$element.css("display","").css("visibility","hidden");this.resizeFactor=b/this.slide.slider.options.width;for(var d in this.baseStyle)if(c="top"===d||"left"===d||"bottom"===d||"right"===d,e=this.fixed&&c?1:this.resizeFactor,this.resizable||
c)"top"===d&&this.middleAlign?(this.$element[0].style.top="0px",this.baseHeight=this.$element.outerHeight(!1),this.$element[0].style.top=this.baseStyle.top*e+(a-this.baseHeight)/2+"px"):"left"===d&&this.centerAlign?(this.$element[0].style.left="0px",this.baseWidth=this.$element.outerWidth(!1),this.$element[0].style.left=this.baseStyle.left*e+(b-this.baseWidth)/2+"px"):this.$element.css(d,this.baseStyle[d]*e+"px");this.visible(this.minWidth<b)}};c.start=function(){if(!this.isShowing&&!this.staticLayer){this.isShowing=
!0;var b,a;MSLayerEffects.rf=this.resizeFactor;var e=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),c={};for(b in e)this._checkPosKey(b,e)||(null!=MSLayerEffects.defaultValues[b]&&(c[b]=MSLayerEffects.defaultValues[b]),b in this.baseStyle&&(a=this.baseStyle[b],this.middleAlign&&"top"===b&&(a+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&"left"===b&&(a+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/
2),e[b]=a+parseFloat(e[b])+"px",c[b]=a+"px"),this.$element.css(b,e[b]));var d=this;clearTimeout(this.to);this.to=setTimeout(function(){d.$element.css("visibility","");d._playAnimation(d.start_anim,c)},d.start_anim.delay||.01);this.clTo=setTimeout(function(){d.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration);this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){d.hide()},d.end_anim.time))}};c.hide=function(){if(!this.staticLayer){this.isShowing=!1;var b=MSLayerEffects[this.end_anim.eff_name].apply(null,
this._parseEffParams(this.end_anim.eff_params));for(key in b)this._checkPosKey(key,b)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,b[key]),key in this.baseStyle&&(b[key]=this.baseStyle[key]+parseFloat(b[key])+"px"));this._playAnimation(this.end_anim,b);clearTimeout(this.to);clearTimeout(this.hto);clearTimeout(this.clTo)}};c.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity",""),this.$element[0].style.transitionDuration=
"",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))};c.destroy=function(){this.reset();this.$element.remove()};c.visible=function(b){this.isVisible!=b&&(this.isVisible=b,this.$element.css("display",b?"":"none"))};c.moveParallax=function(b,a,e){this._paraX=b;this._paraY=a;e&&(this._lastParaX=b,this._lastParaY=a,this.parallaxRender())};c._playAnimation=function(b,a){var e={};b.ease&&(e.ease=b.ease);e.transProperty=window._csspfx+"transform,opacity";this.show_tween=
CTween.animate(this.$element,b.duration,a,e)};c._randomParam=function(b){var a=Number(b.slice(0,b.indexOf("|")));b=Number(b.slice(b.indexOf("|")+1));return a+Math.random()*(b-a)};c._parseEff=function(b){var a=[];if(-1!==b.indexOf("(")){var e=b.slice(0,b.indexOf("(")).toLowerCase(),a=b.slice(b.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(",");b=e;for(var c=0,d=a.length;c<d;++c)e=a[c],e in MSLayerEffects.presetEffParams&&(e=MSLayerEffects.presetEffParams[e]),a[c]=e}return{eff_name:b,eff_params:a}};
c._parseEffParams=function(b){for(var a=[],e=0,c=b.length;e<c;++e){var d=b[e];"string"===typeof d&&-1!==d.indexOf("|")&&(d=this._randomParam(d));a[e]=d}return a};c._checkPosKey=function(b,a){return"left"===b&&!(b in this.baseStyle)&&"right"in this.baseStyle?(a.right=-parseInt(a.left)+"px",delete a.left,!0):"top"===b&&!(b in this.baseStyle)&&"bottom"in this.baseStyle?(a.bottom=-parseInt(a.top)+"px",delete a.top,!0):!1};c._parallaxCalc=function(){var b=this._paraX-this._lastParaX,a=this._paraY-this._lastParaY;
this._lastParaX+=b/12;this._lastParaY+=a/12;.019>Math.abs(b)&&(this._lastParaX=this._paraX);.019>Math.abs(a)&&(this._lastParaY=this._paraY)};c._parallaxCSS3DRenderer=function(){this._parallaxCalc();this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"};c._parallaxCSS2DRenderer=function(){this._parallaxCalc();this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+
this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"};c._parallax2DRenderer=function(){this._parallaxCalc();this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px";this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"}})(h);(function(d){window.MSImageLayerElement=function(){MSLayerElement.call(this);this.needPreload=!0;this.__cssConfig="width height margin-top padding-top margin-bottom padding-left margin-right padding-right margin-left padding-bottom left right top bottom".split(" ");
this.type="image"};MSImageLayerElement.extend(MSLayerElement);var c=MSImageLayerElement.prototype,b=MSLayerElement.prototype;c.create=function(){if(this.link){var a=this.$element.parent();a.append(this.link);this.link.append(this.$element);this.link.removeClass("ms-layer");this.$element.addClass("ms-layer");a=null}b.create.call(this);if(void 0!=this.$element.data("src"))this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var e=this;this.$element.on("load",function(a){e.controller.preloadCount--;
0===e.controller.preloadCount&&e.controller._onlayersReady()}).each(d.jqLoadFix)}if(d.browser.msie)this.$element.on("dragstart",function(a){a.preventDefault()})};c.loadImage=function(){var a=this;this.$element.preloadImg(this.img_src,function(b){a.controller.preloadCount--;0===a.controller.preloadCount&&a.controller._onlayersReady()})}})(h);(function(d){window.MSVideoLayerElement=function(){MSLayerElement.call(this);this.__cssConfig.push("height");this.type="video"};MSVideoLayerElement.extend(MSLayerElement);
var c=MSVideoLayerElement.prototype,b=MSLayerElement.prototype;c.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2);CTween.fadeOut(this.video_btn,500,2);this.video_frame.attr("src","about:blank").css("display","block");-1==this.video_url.indexOf("?")&&(this.video_url+="?");this.video_frame.attr("src",this.video_url+"&autoplay=1")};c.start=function(){b.start.call(this);this.$element.data("autoplay")&&this.__playVideo()};c.reset=function(){b.reset.call(this);if(this.needPreload||this.$element.data("btn"))this.video_btn.css("opacity",
1).css("display","block"),this.video_frame.attr("src","about:blank").css("display","none");this.needPreload?this.img.css("opacity",1).css("display","block"):this.video_frame.attr("src",this.video_url)};c.create=function(){b.create.call(this);this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"});this.video_url=this.video_frame.attr("src");var a=0!=this.$element.has("img").length;if(a||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");
var e=this;this.video_btn=d("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){e.__playVideo()});if(a&&(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src")?(this.img_src=this.img.data("src"),this.img.removeAttr("data-src")):(e=this,this.img.attr("src",this.img_src).on("load",function(a){e.controller.preloadCount--;0===e.controller.preloadCount&&e.controller._onlayersReady()}).each(d.jqLoadFix)),d.browser.msie))this.img.on("dragstart",
function(a){a.preventDefault()})}};c.loadImage=function(){var a=this;this.img.preloadImg(this.img_src,function(b){a.controller.preloadCount--;0===a.controller.preloadCount&&a.controller._onlayersReady()})}})(h);(function(d){window.MSHotspotLayer=function(){MSLayerElement.call(this);this.__cssConfig="margin-top padding-top margin-bottom padding-left margin-right padding-right margin-left padding-bottom left right top bottom".split(" ");this.ease="Expo";this.hide_start=!0;this.type="hotspot"};MSHotspotLayer.extend(MSLayerElement);
var c=MSHotspotLayer.prototype,b=MSLayerElement.prototype;c._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))};c._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var a=this;clearTimeout(this.hto);this.hto=setTimeout(function(){a.hide_start=!0;a._tween=
CTween.animate(a.tt,900,a.from,{ease:"easeOut"+a.ease,complete:function(){a.tt.css("display","none")}})},200)}};c._updateClassName=function(a){this._lastClass&&this.tt.removeClass(this._lastClass);this.tt.addClass(a);this._lastClass=a};c._alignPolicy=function(){this.tt.outerHeight(!1);var a=Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width"))),b=window.innerWidth;switch(this.align){case "top":if(0>this.base_t)return"bottom";break;case "right":if(this.base_l+a>b||0>this.base_t)return"bottom";
break;case "left":if(0>this.base_l||0>this.base_t)return"bottom"}return null};c._locateTT=function(){var a=this.$element.offset(),b=this.slide.slider.$element.offset();this.pos_x=a.left-b.left-this.slide.slider.$element.scrollLeft();this.pos_y=a.top-b.top-this.slide.slider.$element.scrollTop();this.from={opacity:0};this.to={opacity:1};this._updateClassName("ms-tooltip-"+this.align);this.tt_arrow.css("margin-left","");switch(this.align){case "top":a=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));
this.base_t=this.pos_y-this.tt.outerHeight(!1)-15-15;this.base_l=this.pos_x-a/2;this.base_l+a>window.innerWidth&&(this.tt_arrow.css("margin-left",-7.5+this.base_l+a-window.innerWidth+"px"),this.base_l=window.innerWidth-a);0>this.base_l&&(this.base_l=0,this.tt_arrow.css("margin-left",-7.5+this.pos_x-this.tt.outerWidth(!1)/2+"px"));window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-50px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-50+"px",this.to.top=this.base_t+
"px");break;case "bottom":a=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+15+15;this.base_l=this.pos_x-a/2;this.base_l+a>window.innerWidth&&(this.tt_arrow.css("margin-left",-7.5+this.base_l+a-window.innerWidth+"px"),this.base_l=window.innerWidth-a);0>this.base_l&&(this.base_l=0,this.tt_arrow.css("margin-left",-7.5+this.pos_x-this.tt.outerWidth(!1)/2+"px"));window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(50px)",this.to[window._jcsspfx+
"Transform"]=""):(this.from.top=this.base_t+50+"px",this.to.top=this.base_t+"px");break;case "right":this.base_l=this.pos_x+15+15;this.base_t=this.pos_y-this.tt.outerHeight(!1)/2;window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(50px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+50+"px",this.to.left=this.base_l+"px");break;case "left":this.base_l=this.pos_x-15-this.tt.outerWidth(!1)-15,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+
"Transform"]="translateX(-50px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-50+"px",this.to.left=this.base_l+"px")}a=this._alignPolicy();null!==a?(this.align=a,this._locateTT()):(this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),this.tt.css(this.from))};c.start=function(){b.start.call(this);this.tt.appendTo(this.slide.slider.$element);this.tt.css("display","none")};c.reset=function(){b.reset.call(this);this.tt.detach()};c.create=function(){var a=
this;b.create.call(this);this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top";this.data=this.$element.html();this.$element.html("").on("mouseenter",function(){a._showTT()}).on("mouseleave",function(){a._hideTT()});this.point=d('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var e=this.$element.data("link"),c=this.$element.data("target");if(e)this.point.on("click",function(){window.open(e,
c||"_self")});this.tt=d("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0);void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width"));this.tt_arrow=d("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt);this._updateClassName("ms-tooltip-"+this.align);this.ttcont=d("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt);if(!0===this.$element.data("stay-hover"))this.tt.on("mouseenter",
function(){a.hide_start||(clearTimeout(a.hto),a._tween.stop(!0),a._showTT())}).on("mouseleave",function(){a._hideTT()})}})(h);(function(d){window.MSButtonLayer=function(){MSLayerElement.call(this);this.type="button"};MSButtonLayer.extend(MSLayerElement);d=MSButtonLayer.prototype;var c=MSLayerElement.prototype,b=["top","left","bottom","right"];d.create=function(){c.create.call(this);this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative");this.$container=this.$element.parent()};
d.locate=function(){c.locate.call(this);for(var a,e,d=0;4>d;d++)a=b[d],a in this.baseStyle&&(e=this.$element.css(a),this.$element.css(a,""),this.$container.css(a,e));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}})(h);window.MSSliderEvent=function(d){this.type=d};MSSliderEvent.CHANGE_START="ms_changestart";MSSliderEvent.CHANGE_END="ms_changeend";MSSliderEvent.WAITING="ms_waiting";MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange";MSSliderEvent.VIDEO_PLAY=
"ms_videoPlay";MSSliderEvent.VIDEO_CLOSE="ms_videoclose";MSSliderEvent.INIT="ms_init";MSSliderEvent.HARD_UPDATE="ms_hard_update";MSSliderEvent.RESIZE="ms_resize";MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc";MSSliderEvent.DESTROY="ms_destroy";(function(d,c,b){d.MSSlide=function(){this.$element=null;this.$loading=b("<div></div>").addClass("ms-slide-loading");this.view=null;this.index=-1;this.__height=this.__width=0;this.fillMode="fill";this.pselected=this.selected=!1;this.isSleeping=this.autoAppend=
!0;this.moz=b.browser.mozilla};c=MSSlide.prototype;c.onSwipeStart=function(){this.link&&(this.linkdis=!0);this.video&&(this.videodis=!0)};c.onSwipeMove=function(a){this.swipeMoved=4<Math.max(Math.abs(a.data.distanceX),Math.abs(a.data.distanceY))};c.onSwipeCancel=function(a){this.swipeMoved?this.swipeMoved=!1:(this.link&&(this.linkdis=!1),this.video&&(this.videodis=!1))};c.setupLayerController=function(){this.hasLayers=!0;this.layerController=new MSLayerController(this)};c.assetsLoaded=function(){this.ready=
!0;this.slider.api._startTimer();if(this.selected||this.pselected&&this.slider.options.instantStartLayers)this.hasLayers&&this.layerController.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0));this.isSleeping||this.setupBG();CTween.fadeOut(this.$loading,300,!0);(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&
this.index===this.view.slideList.length-1&&this.slider._removeLoading()};c.setBG=function(a){this.hasBG=!0;var e=this;this.$imgcont=b("<div></div>").addClass("ms-slide-bgcont");this.$element.append(this.$loading).append(this.$imgcont);this.$bg_img=b(a).css("visibility","hidden");this.$imgcont.append(this.$bg_img);this.bgAligner=new MSAligner(e.fillMode,e.$imgcont,e.$bg_img);this.bgAligner.widthOnly=this.slider.options.autoHeight;e.slider.options.autoHeight&&(e.pselected||e.selected)&&e.slider.setHeight(e.slider.options.height);
void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(a){e._onBGLoad(a)}).each(b.jqLoadFix)};c.setupBG=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),
this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))};c.loadImages=function(){if(!this.ls){this.ls=!0;this.bgvideo&&this.bgvideo.load();if(this.hasBG&&this.bg_src){var a=this;this.$bg_img.preloadImg(this.bg_src,function(b){a._onBGLoad(b)})}this.hasLayers&&this.layerController.loadLayers(this._onLayersLoad);this.hasBG||this.hasLayers||this.assetsLoaded()}};c._onLayersLoad=
function(){this.layersLoaded=!0;this.bgLoaded&&this.assetsLoaded()};c._onBGLoad=function(a){this.bgNatrualWidth=a.width;this.bgNatrualHeight=a.height;this.bgLoaded=!0;if(b.browser.msie)this.$bg_img.on("dragstart",function(a){a.preventDefault()});this.hasLayers&&!this.layerController.ready||this.assetsLoaded()};c.setBGVideo=function(a){if(a[0].play)if(d._mobile)a.remove();else{this.bgvideo=a[0];var e=this;a.addClass("ms-slide-bgvideo");!1!==a.data("loop")&&this.bgvideo.addEventListener("ended",function(){e.bgvideo.play()});
!1!==a.data("mute")&&(this.bgvideo.muted=!0);!0===a.data("autopause")&&(this.autoPauseBgVid=!0);this.bgvideo_fillmode=a.data("fill-mode")||"fill";"none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,a),this.bgvideo.addEventListener("loadedmetadata",function(){e.vinit||(e.vinit=!0,e.video_aspect=e.bgVideoAligner.baseHeight/e.bgVideoAligner.baseWidth,e.bgVideoAligner.init(e.bgvideo.videoWidth,e.bgvideo.videoHeight),e._alignBGVideo(),CTween.fadeIn(b(e.bgvideo),
200),e.selected&&e.bgvideo.play())}));a.css("opacity",0);this.$bgvideocont=b("<div></div>").addClass("ms-slide-bgvideocont").append(a);this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}};c._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()};c.setSize=function(a,b,c){this.__width=a;this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,b=Math.floor(this.ratio*this.bgHeight),
this.$imgcont.height(b)):(this.ratio=a/this.slider.options.width,b=this.slider.options.height*this.ratio));this.__height=b;this.$element.width(a).height(b);this.hasBG&&this.bgLoaded&&this.bgAligner.align();this._alignBGVideo();this.hasLayers&&this.layerController.setSize(a,b,c)};c.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)};c.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=
!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.view.swipeControl&&this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))};c.__closeVideo=function(){if(this.vplayed){this.vplayed=
!1;this.roc&&this.slider.api.resume();var a=this;CTween.fadeIn(this.vpbtn,500);CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){a.vcbtn.css("display","none")}});CTween.animate(this.vframe,500,{opacity:0},{complete:function(){a.vframe.attr("src","about:blank").css("display","none")}});this.view.swipeControl&&this.view.swipeControl.enable();this.view.$element.removeClass("ms-def-cursor");this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}};c.create=
function(){var a=this;this.hasLayers&&this.layerController.create();this.link&&this.link.addClass("ms-slide-link").html("").click(function(b){a.linkdis&&b.preventDefault()});this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=b("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").attr("allowfullscreen","true").appendTo(this.$element),this.vpbtn=b("<div></div>").addClass("ms-slide-vpbtn").click(function(){a.__playVideo()}).appendTo(this.$element),
this.vcbtn=b("<div></div>").addClass("ms-slide-vcbtn").click(function(){a.__closeVideo()}).appendTo(this.$element).css("display","none"),d._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent()));!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),"center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill");this.slider.options.autoHeight&&
this.$element.addClass("ms-slide-auto-height");this.sleep(!0)};c.destroy=function(){this.hasLayers&&(this.layerController.destroy(),this.layerController=null);this.$element.remove();this.$element=null};c.prepareToSelect=function(){if(!this.pselected&&!this.selected){this.pselected=!0;if(this.link||this.video)this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,
this.onSwipeCancel,this),this.swipeMoved=this.linkdis=!1;this.loadImages();this.hasLayers&&this.layerController.prepareToShow();this.ready&&(this.bgvideo&&this.bgvideo.play(),this.hasLayers&&this.slider.options.instantStartLayers&&this.layerController.showLayers());this.moz&&this.$element.css("margin-top","")}};c.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&this.layerController.updateHeight(),
this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))};c.unselect=function(){this.pselected=!1;this.moz&&this.$element.css("margin-top","0.1px");if(this.link||this.video)this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,
this.onSwipeCancel,this);this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0));this.hasLayers&&this.layerController.hideLayers();this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))};c.sleep=function(a){if(!this.isSleeping||a)if(this.isSleeping=!0,this.autoAppend&&this.$element.detach(),this.hasLayers)this.layerController.onSlideSleep()};c.wakeup=function(){if(this.isSleeping&&
(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setupBG(),this.hasBG&&this.bgAligner.align(),this.hasLayers))this.layerController.onSlideWakeup()}})(window,document,h);(function(d){var c={};window.MSSlideController=function(a){this._delayProgress=0;this._timer=new averta.Timer(100);this._timer.onTimer=this.onTimer;this._timer.refrence=this;this.currentSlide=null;this.slider=a;this.so=a.options;averta.EventDispatcher.call(this)};
MSSlideController.registerView=function(a,b){if(a in c)throw Error(a+", is already registered.");c[a]=b};MSSlideController.SliderControlList={};MSSlideController.registerControl=function(a,b){if(a in MSSlideController.SliderControlList)throw Error(a+", is already registered.");MSSlideController.SliderControlList[a]=b};var b=MSSlideController.prototype;b.setupView=function(){var a=this;this.resize_listener=function(){a.__resize()};var b={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,
autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&d.extend(b,this.so.viewOptions);this.so.autoHeight&&(this.so.heightLimit=!1);var g=c[this.slider.options.view]||MSBasicView;!g._3dreq||window._css3d&&!d.browser.msie||(g=g._fallback||MSBasicView);this.view=new g(b);this.so.overPause&&(a=this,this.slider.$element.mouseenter(function(){a.is_over=!0;a._stopTimer()}).mouseleave(function(){a.is_over=
!1;a._startTimer()}))};b.onChangeStart=function(){this.change_started=!0;this.currentSlide&&this.currentSlide.unselect();this.currentSlide=this.view.currentSlide;this.currentSlide.prepareToSelect();this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer());this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight());this.so.deepLink&&this.__updateWindowHash();this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))};b.onChangeEnd=
function(){this.change_started=!1;this._startTimer();this.currentSlide.select();if(1<this.so.preload){var a,b,c=this.so.preload-1;for(b=1;b<=c;++b){a=this.view.index+b;if(a>=this.view.slideList.length)if(this.so.loop)a-=this.view.slideList.length;else{b=c;continue}this.view.slideList[a].loadImages()}c>this.view.slideList.length/2&&(c=Math.floor(this.view.slideList.length/2));for(b=1;b<=c;++b){a=this.view.index-b;if(0>a)if(this.so.loop)a=this.view.slideList.length+a;else{b=c;continue}this.view.slideList[a].loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))};
b.onSwipeStart=function(){this.skipTimer()};b.skipTimer=function(){this._timer.reset();this._delayProgress=0;this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))};b.onTimer=function(a){this._timer.getTime()>=1E3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1);this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay);this.so.hideLayers&&!this.hideCalled&&300>=1E3*this.view.currentSlide.delay-this._timer.getTime()&&(a=this.view.currentSlide,
a.hasLayers&&a.layerController.animHideLayers(),this.hideCalled=!0);this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))};b._stopTimer=function(){this._timer&&this._timer.stop()};b._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()};b.__appendSlides=function(){var a,b=0,c=this.view.slideList.length-1;for(b;b<c;++b)a=this.view.slideList[b],a.detached||(a.$element.detach(),a.detached=!0);this.view.appendSlide(this.view.slideList[this.view.index]);
c=3;for(b=1;b<=c;++b){a=this.view.index+b;if(a>=this.view.slideList.length)if(this.so.loop)a-=this.view.slideList.length;else{b=c;continue}a=this.view.slideList[a];a.detached=!1;this.view.appendSlide(a)}c>this.view.slideList.length/2&&(c=Math.floor(this.view.slideList.length/2));for(b=1;b<=c;++b){a=this.view.index-b;if(0>a)if(this.so.loop)a=this.view.slideList.length+a;else{b=c;continue}a=this.view.slideList[a];a.detached=!1;this.view.appendSlide(a)}};b.__resize=function(a){this.created&&(this.width=
this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,a),this.view.setSize(this.width,this.currentSlide.getHeight(),a)):this.view.setSize(this.width,this.so.heightLimit?Math.min(this.height,this.so.height):this.height,
a),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))};b.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))};b.__updateWindowHash=function(){var a=window.location.hash,b=this.so.deepLink,c=this.so.deepLinkType,d="path"===c?"/":"=",c="path"===c?"/":"&",k=b+d+(this.view.index+1),b=new RegExp(b+
d+"[0-9]+","g");""===a?window.location.hash=c+k:b.test(a)?window.location.hash=a.replace(b,k):window.location.hash=a+c+k};b.__curentSlideInHash=function(){var a=window.location.hash,b=new RegExp(this.so.deepLink+("path"===this.so.deepLinkType?"/":"=")+"[0-9]+","g");return b.test(a)&&(a=Number(a.match(b)[0].match(/[0-9]+/g).pop()),!isNaN(a))?a-1:-1};b.__onHashChanged=function(){var a=this.__curentSlideInHash();-1!==a&&this.gotoSlide(a)};b.setup=function(){this.created=!0;this.paused=!this.so.autoplay;
this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this);this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this);this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this);this.currentSlide=this.view.slideList[this.so.start-1];this.__resize();var a=this.__curentSlideInHash();this.view.create(-1!==a?a:this.so.start-1);0===this.so.preload&&this.view.slideList[0].loadImages();this.scroller=this.view.controller;if(this.so.wheel){var b=this,c=(new Date).getTime();
this.wheellistener=function(a){a=window.event||a.orginalEvent||a;a.preventDefault();var k=(new Date).getTime();if(!(400>k-c))return c=k,k=Math.abs(a.detail||a.wheelDelta),d.browser.mozilla&&(k*=100),0>a.detail||0<a.wheelDelta?15<=k&&b.previous(!0):15<=k&&b.next(!0),!1};d.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0);this.__resize();
b=this;if(this.so.deepLink)d(window).on("hashchange",function(){b.__onHashChanged()})};b.index=function(){return this.view.index};b.count=function(){return this.view.slidesCount};b.next=function(a){this.skipTimer();this.view.next(a)};b.previous=function(a){this.skipTimer();this.view.previous(a)};b.gotoSlide=function(a){a=Math.min(a,this.count()-1);this.skipTimer();this.view.gotoSlide(a)};b.destroy=function(a){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY));this.slider.destroy(a)};b._destroy=
function(){this._timer.reset();this._timer=null;d(window).unbind("resize",this.resize_listener);this.view.destroy();this.view=null;this.so.wheel&&(d.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null);this.so=null};b.runAction=function(a){var b=[];if(-1!==a.indexOf("(")){var c=a.slice(0,a.indexOf("(")),b=a.slice(a.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(",");
a=c}a in this?this[a].apply(this,b):console&&console.log('Master Slider Error: Action "'+a+'" not found.')};b.scrollToEnd=function(a){var b=this.slider.$element;null==a&&(a=1.4);d("html, body").animate({scrollTop:b.offset().top+b.outerHeight(!1)},1E3*a,"easeInOutQuad")};b.update=function(a){this.slider.init_safemode&&a&&(this.slider.init_safemode=!1);this.__resize(a);a&&this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))};b.locate=function(){this.__resize()};b.resume=function(){this.paused&&
(this.paused=!1,this._startTimer())};b.pause=function(){this.paused||(this.paused=!0,this._stopTimer())};b.currentTime=function(){return this._delayProgress};averta.EventDispatcher.extend(b)})(h);(function(d){var c={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.Multislider=function(){this.options={autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,
critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path",disablePlugins:[]};this.slides=[];this.activePlugins=[];this.$element=null;this._holdOn=this.bottomSpace=this.rightSpace=this.topSpace=this.leftSpace=this.lastMargin=
0;var a=this;this.resize_listener=function(){a._resize()};d(window).bind("resize",this.resize_listener)};Multislider.author="Averta Ltd. (www.averta.net)";Multislider.version="2.12.3";Multislider.releaseDate="Apr 2015";Multislider._plugins=[];var b=Multislider;b.registerPlugin=function(a){-1===b._plugins.indexOf(a)&&b._plugins.push(a)};var a=Multislider.prototype;a.__setupSlides=function(){var a=this,b,c=0;this.$element.children(".ms-slide").each(function(k){k=d(this);b=new MSSlide;b.$element=k;b.slider=
a;b.delay=void 0!==k.data("delay")?k.data("delay"):3;b.fillMode=void 0!==k.data("fill-mode")?k.data("fill-mode"):a.options.fillMode;b.index=c++;var l=k.children("img:not(.ms-layer)");0<l.length&&b.setBG(l[0]);l=k.children("video");0<l.length&&b.setBGVideo(l);if(a.controls)for(var l=0,h=a.controls.length;l<h;++l)a.controls[l].slideAction(b);k.children("a").each(function(a){a=d(this);"video"===this.getAttribute("data-type")?(b.video=this.getAttribute("href"),b.videoAutoPlay=a.data("autoplay"),a.remove()):
a.hasClass("ms-layer")||(b.link=d(this))});a.__createSlideLayers(b,k.find(".ms-layer"));a.slides.push(b);a.slideController.view.addSlide(b)})};a.__createSlideLayers=function(a,b){0!=b.length&&(a.setupLayerController(),b.each(function(b,g){var l=d(this),h;"A"===g.nodeName&&"image"===l.find(">img").data("type")&&(h=d(this),l=h.find("img"));var q=new (c[l.data("type")||"text"]);q.$element=l;q.link=h;h={};var m={};void 0!==l.data("effect")&&(h.name=l.data("effect"));void 0!==l.data("ease")&&(h.ease=l.data("ease"));
void 0!==l.data("duration")&&(h.duration=l.data("duration"));void 0!==l.data("delay")&&(h.delay=l.data("delay"));l.data("hide-effect")&&(m.name=l.data("hide-effect"));l.data("hide-ease")&&(m.ease=l.data("hide-ease"));void 0!==l.data("hide-duration")&&(m.duration=l.data("hide-duration"));void 0!==l.data("hide-time")&&(m.time=l.data("hide-time"));q.setStartAnim(h);q.setEndAnim(m);a.layerController.addLayer(q)}))};a._removeLoading=function(){d(window).unbind("resize",this.resize_listener);this.$element.removeClass("before-init").css("visibility",
"visible").css("height","").css("opacity",0);CTween.fadeIn(this.$element);this.$loading.remove();this.slideController&&this.slideController.__resize()};a._resize=function(a){this.$loading&&(a=this.$loading[0].clientWidth/this.aspect,a=this.options.heightLimit?Math.min(a,this.options.height):a,this.$loading.height(a),this.$element.height(a))};a._shuffleSlides=function(){for(var a=this.$element.children(".ms-slide"),b,c=0,d=a.length;c<d;++c)b=Math.floor(Math.random()*(d-1)),c!=b&&(this.$element[0].insertBefore(a[c],
a[b]),a=this.$element.children(".ms-slide"))};a._setupSliderLayout=function(){this._updateSideMargins();this.lastMargin=this.leftSpace;var a=this.options.layout;"boxed"!==a&&"partialview"!==a&&(this.options.fullwidth=!0);if("fullscreen"===a||"autofill"===a)this.options.fullheight=!0;"partialview"===a&&this.$element.addClass("ms-layout-partialview");if("fullscreen"===a||"fullwidth"===a)d(window).bind("resize",{that:this},this._updateLayout),this._updateLayout();d(window).bind("resize",this.slideController.resize_listener)};
a._updateLayout=function(a){a=a?a.data.that:this;var b=a.$element;"fullscreen"===a.options.layout&&(document.body.style.overflow="hidden",b.height(d(window).height()-a.options.fullscreenMargin-a.topSpace-a.bottomSpace),document.body.style.overflow="");b.width(d("body").width()-a.leftSpace-a.rightSpace);var c=-b.offset().left+a.leftSpace+a.lastMargin;b.css("margin-left",c);a.lastMargin=c};a._init=function(){if(!(0<this._holdOn)&&this._docReady){this.initialized=!0;"all"!==this.options.preload&&this._removeLoading();
this.options.shuffle&&this._shuffleSlides();MSLayerEffects.setup();this.slideController.setupView();this.view=this.slideController.view;this.$controlsCont=d("<div></div>").addClass("ms-inner-controls-cont");this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px");this.$controlsCont.prepend(this.view.$element);this.$msContainer=d("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont);if(this.controls)for(var a=0,b=this.controls.length;a<
b;++a)this.controls[a].setup();this._setupSliderLayout();this.__setupSlides();this.slideController.setup();if(this.controls)for(a=0,b=this.controls.length;a<b;++a)this.controls[a].create();this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight());if(this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var c=this.view.$element;c.mousedown(function(){c.removeClass("ms-grab-cursor");c.addClass("ms-grabbing-cursor");d.browser.msie&&
window.ms_grabbing_curosr&&(c[0].style.cursor="url("+window.ms_grabbing_curosr+"), move")}).addClass("ms-grab-cursor");d(document).mouseup(function(){c.removeClass("ms-grabbing-cursor");c.addClass("ms-grab-cursor");d.browser.msie&&window.ms_grab_curosr&&(c[0].style.cursor="url("+window.ms_grab_curosr+"), move")})}this.slideController.__dispatchInit()}};a.setHeight=function(a){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,
500,{height:a},{ease:"easeOutQuart"})):this.slideController.view.$element.height(a)};a.reserveSpace=function(a,b){var c=a+"Space",d=this[c];this[c]+=b;this._updateSideMargins();return d};a._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")};a._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0;this._updateSideMargins();this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))};
a.control=function(a,b){if(a in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var c=new MSSlideController.SliderControlList[a](b);c.slider=this;this.controls.push(c);return this}};a.holdOn=function(){this._holdOn++};a.release=function(){this._holdOn--;this._init()};a.setup=function(a,c){this.$element="string"===typeof a?d("#"+a):a.eq(0);this.setupMarkup=this.$element.html();if(0!==this.$element.length){this.$element.addClass("edsms__multiSlider").addClass("before-init");d.browser.msie?
this.$element.addClass("ms-ie").addClass("ms-ie"+d.browser.version.slice(0,d.browser.version.indexOf("."))):d.browser.webkit?this.$element.addClass("ms-wk"):d.browser.mozilla&&this.$element.addClass("ms-moz");-1<navigator.userAgent.toLowerCase().indexOf("android")&&this.$element.addClass("ms-android");var f=this;d.extend(this.options,c);this.aspect=this.options.width/this.options.height;this.$loading=d("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(d("<div></div>").addClass("ms-loading"));
this.$loading.parent().css("position","relative");this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0);this.options.fullheight&&this.$element.addClass("ms-fullheight");this._resize();this.api=this.slideController=new MSSlideController(this);for(var k=0,l=b._plugins.length;k!==l;k++){var h=b._plugins[k];-1===this.options.disablePlugins.indexOf(h.name)&&this.activePlugins.push(new h(this))}d(document).ready(function(){f._docReady=!0;f._init()});return this}};a.destroy=function(a){for(var b=
0,c=this.activePlugins.length;b!==c;b++)this.activePlugins[b].destroy();if(this.controls)for(b=0,c=this.controls.length;b!==c;b++)this.controls[b].destroy();this.slideController&&this.slideController._destroy();this.$loading&&this.$loading.remove();a?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();a=this.options.layout;"fullscreen"!==a&&"fullwidth"!==a||d(window).unbind("resize",this._updateLayout);this.activePlugins=this.resize_listener=this.api=this.slideController=
this.options=this.slides=this.view=null}})(h);(function(d,c,b,a){function e(a,b){this.element=a;this.$element=d(a);this.settings=d.extend({},g,b);this._defaults=g;this._name="masterslider";this.init()}var g={controls:{}};d.extend(e.prototype,{init:function(){var a=this;this._slider=new Multislider;for(var b in this.settings.controls)this._slider.control(b,this.settings.controls[b]);this._slider.setup(this.$element,this.settings);var e=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=
function(b){a.$element.trigger(b.type);e.call(this,b)}},api:function(){return this._slider.api},slider:function(){return this._slider}});d.fn.masterslider=function(b){var c=arguments;if(b===a||"object"===typeof b)return this.each(function(){d.data(this,"plugin_masterslider")||d.data(this,"plugin_masterslider",new e(this,b))});if("string"===typeof b&&"_"!==b[0]&&"init"!==b){var g;this.each(function(){var a=d.data(this,"plugin_masterslider");a instanceof e&&"function"===typeof a[b]&&(g=a[b].apply(a,
Array.prototype.slice.call(c,1)));a instanceof e&&"function"===typeof a._slider.api[b]&&(g=a._slider.api[b].apply(a._slider.api,Array.prototype.slice.call(c,1)));"destroy"===b&&d.data(this,"plugin_masterslider",null)});return g!==a?g:this}}})(h,window,document);window.MSViewEvents=function(d,c){this.type=d;this.data=c};MSViewEvents.SWIPE_START="swipeStart";MSViewEvents.SWIPE_END="swipeEnd";MSViewEvents.SWIPE_MOVE="swipeMove";MSViewEvents.SWIPE_CANCEL="swipeCancel";MSViewEvents.SCROLL="scroll";MSViewEvents.CHANGE_START=
"slideChangeStart";MSViewEvents.CHANGE_END="slideChangeEnd";(function(d){window.MSBasicView=function(b){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1};d.extend(this.options,b);this.dir=this.options.dir;this.loop=this.options.loop;this.spacing=this.options.spacing;this.__height=this.__width=0;this.__cssProb="h"===this.dir?"left":"top";this.__offset="h"===this.dir?"offsetLeft":"offsetTop";this.__dimension="h"===this.dir?
"__width":"__height";this.__translate_end=window._css3d?" translateZ(0px)":"";this.$slideCont=d("<div></div>").addClass("ms-slide-container");this.$element=d("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont);this.currentSlide=null;this.index=-1;this.slidesCount=0;this.slides=[];this.slideList=[];this.viewSlidesList=[];this.css3=window._cssanim;this.firstslide_snap=this.start_buffer=0;this.slideChanged=!1;this.controller=new Controller(0,0,{snapping:!0,snapsize:100,
paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop});this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this);this.controller.snappingCallback(this.__snapUpdate,this);this.controller.snapCompleteCallback(this.__snapCompelet,this);averta.EventDispatcher.call(this)};var c=MSBasicView.prototype;c.__snapCompelet=function(b,a){this.slideChanged&&(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))};
c.__snapUpdate=function(b,a,e){if(this.loop)b=this.index+e,this.updateLoop(b),b>=this.slidesCount&&(b-=this.slidesCount),0>b&&(b=this.slidesCount+b),this.index=b;else{if(0>a||a>=this.slidesCount)return;this.index=a}this._checkCritMargins();d.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));b=this.slideList[this.index];b!==this.currentSlide&&(this.currentSlide=b,this.autoUpdateZIndex&&this.__updateSlidesZindex(),
this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))};c._checkCritMargins=function(){if(!this.normalMode){var b=Math.floor(this.options.viewNum/2),a=this.viewSlidesList.indexOf(this.slideList[this.index]),e=this[this.__dimension]+this.spacing,c=this.options.critMargin;if(this.loop){if(a<=c||a>=this.viewSlidesList.length-c)e*=a-b,this.__locateSlides(!1,e+this.start_buffer),this.start_buffer+=e}else(a<c&&this.index>=c||a>=this.viewSlidesList.length-c&&this.index<this.slidesCount-
c)&&this.__locateSlides(!1)}};c._vertiUpdate=function(b,a){this.__contPos=a;this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL));this.css3?this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-a+"px)"+this.__translate_end:this.$slideCont[0].style.top=-a+"px"};c._horizUpdate=function(b,a){this.__contPos=a;this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL));this.css3?this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-a+"px)"+this.__translate_end:this.$slideCont[0].style.left=
-a+"px"};c.__updateViewList=function(){if(this.normalMode)this.viewSlidesList=this.slides;else{var b=this.viewSlidesList.slice();this.viewSlidesList=[];var a=0,e=Math.floor(this.options.viewNum/2);if(this.loop)for(;a!==this.options.viewNum;a++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-e+a]);else{for(a=0;a!==e&&-1!==this.index-a;a++)this.viewSlidesList.unshift(this.slideList[this.index-a]);for(a=1;a!==e&&this.index+a!==this.slidesCount;a++)this.viewSlidesList.push(this.slideList[this.index+
a])}a=0;for(e=b.length;a!==e;a++)-1===this.viewSlidesList.indexOf(b[a])&&b[a].sleep();this.currentSlide&&this.__updateSlidesZindex()}};c.__locateSlides=function(b,a){this.__updateViewList();a=this.loop?a||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var e=this.viewSlidesList.length,c,d=0;d!==e;d++){var k=a+d*(this[this.__dimension]+this.spacing);c=this.viewSlidesList[d];c.wakeup();c.position=k;c.$element[0].style[this.__cssProb]=k+"px"}!1!==b&&this.controller.changeTo(this.slideList[this.index].position,
!1,null,null,!1)};c.__createLoopList=function(){var b=[],a=0,a=this.slidesCount/2,e=0===this.slidesCount%2?a-1:Math.floor(a),c=0===this.slidesCount%2?a:Math.floor(a);this.currentSlideLoc=e;for(a=1;a<=e;++a)b.unshift(this.slideList[0>this.index-a?this.slidesCount-a+this.index:this.index-a]);b.push(this.slideList[this.index]);for(a=1;a<=c;++a)b.push(this.slideList[this.index+a>=this.slidesCount?this.index+a-this.slidesCount:this.index+a]);return b};c.__getSteps=function(b,a){var e=a<b?this.slidesCount-
b+a:a-b,c=Math.abs(this.slidesCount-e);return e<c?e:-c};c.__pushEnd=function(){var b=this.slides.shift(),a=this.slides[this.slidesCount-2];this.slides.push(b);this.normalMode&&(a=a.$element[0][this.__offset]+this.spacing+this[this.__dimension],b.$element[0].style[this.__cssProb]=a+"px",b.position=a)};c.__pushStart=function(){var b=this.slides.pop(),a=this.slides[0];this.slides.unshift(b);this.normalMode&&(a=a.$element[0][this.__offset]-this.spacing-this[this.__dimension],b.$element[0].style[this.__cssProb]=
a+"px",b.position=a)};c.__updateSlidesZindex=function(){var b=this.viewSlidesList.length;if(this.loop)for(var a=this.viewSlidesList.indexOf(this.currentSlide),e=0;e!==b;e++)this.viewSlidesList[e].$element.css("z-index",e<=a?e+1:b-e);else{a=this.currentSlide.index-this.viewSlidesList[0].index;for(e=0;e!==b;e++)this.viewSlidesList[e].$element.css("z-index",e<=a?e+1:b-e);this.currentSlide.$element.css("z-index",b)}};c.addSlide=function(b){b.view=this;this.slides.push(b);this.slideList.push(b);this.slidesCount++};
c.appendSlide=function(b){this.$slideCont.append(b.$element)};c.updateLoop=function(b){if(this.loop){b=this.__getSteps(this.index,b);for(var a=0,e=Math.abs(b);a<e;++a)0>b?this.__pushStart():this.__pushEnd()}};c.gotoSlide=function(b,a){this.updateLoop(b);this.index=b;var e=this.slideList[b];this._checkCritMargins();this.controller.changeTo(e.position,!a,null,null,!1);e!==this.currentSlide&&(this.slideChanged=!0,this.currentSlide=e,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),
a&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))};c.next=function(b){b&&!this.loop&&this.index+1>=this.slidesCount?this.controller.bounce(10):this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)};c.previous=function(b){b&&!this.loop&&0>this.index-1?this.controller.bounce(-10):this.gotoSlide(0>this.index-1?this.slidesCount-1:this.index-1)};c.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element);this.swipeControl.swipeType="h"===this.dir?"horizontal":
"vertical";var b=this;this.swipeControl.onSwipe="h"===this.dir?function(a){b.horizSwipeMove(a)}:function(a){b.vertSwipeMove(a)}};c.vertSwipeMove=function(b){var a=b.phase;if("start"===a)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,b));else if("move"===a&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+b.moveY)<this.cont_size/2))this.controller.drag(b.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,b));else if("end"===
a||"cancel"===a)a=b.distanceY/b.duration*50/3,.1<Math.abs(a)?(this.controller.push(-a),a>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,b))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,b)))};c.horizSwipeMove=function(b){var a=b.phase;if("start"===a)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,b));else if("move"===a&&(!this.loop||Math.abs(this.currentSlide.position-
this.controller.value+b.moveX)<this.cont_size/2))this.controller.drag(b.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,b));else if("end"===a||"cancel"===a)a=b.distanceX/b.duration*50/3,.1<Math.abs(a)?(this.controller.push(-a),a>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,b))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,b)))};c.setSize=function(b,a,e){if(this.lastWidth!==b||a!==
this.lastHeight||e){this.$element.width(b).height(a);for(var c=0;c<this.slidesCount;++c)this.slides[c].setSize(b,a,e);this.__width=b;this.__height=a;this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=b,this.lastHeight=
a)}};c.create=function(b){this.__created=!0;this.lastSnap=this.index=Math.min(b||0,this.slidesCount-1);this.loop&&(this.slides=this.__createLoopList());this.normalMode=this.slidesCount<=this.options.viewNum;for(b=0;b<this.slidesCount;++b)this.slides[b].create();this.__locateSlides();this.controller.options.snapsize=this[this.__dimension]+this.spacing;this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing));this.gotoSlide(this.index,!0);this.options.swipe&&
(window._touch||this.options.mouseSwipe)&&this.setupSwipe()};c.destroy=function(){if(this.__created){for(var b=0;b<this.slidesCount;++b)this.slides[b].destroy();this.slideList=this.slides=null;this.$element.remove();this.controller.destroy();this.controller=null}};averta.EventDispatcher.extend(c);MSSlideController.registerView("basic",MSBasicView)})(h);(function(d){window.MSWaveView=function(b){MSBasicView.call(this,b);this.$element.removeClass("ms-basic-view").addClass("ms-wave-view");this.$slideCont.css(window._csspfx+
"transform-style","preserve-3d");this.autoUpdateZIndex=!0};MSWaveView.extend(MSBasicView);MSWaveView._3dreq=!0;MSWaveView._fallback=MSBasicView;d=MSWaveView.prototype;var c=MSBasicView.prototype;d._horizUpdate=function(b,a){c._horizUpdate.call(this,b,a);for(var e=-a,d,f,k=0;k<this.slidesCount;++k)d=this.slideList[k],f=-e-d.position,this.__updateSlidesHoriz(d,f)};d._vertiUpdate=function(b,a){c._vertiUpdate.call(this,b,a);for(var e=-a,d,f,k=0;k<this.slidesCount;++k)d=this.slideList[k],f=-e-d.position,
this.__updateSlidesVertic(d,f)};d.__updateSlidesHoriz=function(b,a){var e=Math.abs(100*a/this.__width);b.$element.css(window._csspfx+"transform","translateZ("+3*-e+"px) rotateY(0.01deg)")};d.__updateSlidesVertic=function(b,a){this.__updateSlidesHoriz(b,a)};MSSlideController.registerView("wave",MSWaveView)})(h);(function(){window.MSFadeBasicView=function(c){MSWaveView.call(this,c);this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")};MSFadeBasicView.extend(MSWaveView);var d=MSFadeBasicView.prototype;
d.__updateSlidesHoriz=function(c,b){var a=Math.abs(.6*b/this.__width),a=1-Math.min(a,.6);c.$element.css("opacity",a)};d.__updateSlidesVertic=function(c,b){this.__updateSlidesHoriz(c,b)};MSSlideController.registerView("fadeBasic",MSFadeBasicView);MSWaveView._fallback=MSFadeBasicView})();(function(){window.MSFadeWaveView=function(c){MSWaveView.call(this,c);this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")};MSFadeWaveView.extend(MSWaveView);MSFadeWaveView._3dreq=!0;MSFadeWaveView._fallback=
MSFadeBasicView;var d=MSFadeWaveView.prototype;d.__updateSlidesHoriz=function(c,b){var a=Math.abs(100*b/this.__width),a=Math.min(a,100);c.$element.css("opacity",1-a/300);c.$element[0].style[window._jcsspfx+"Transform"]="scale("+(1-a/800)+") rotateY(0.01deg) "};d.__updateSlidesVertic=function(c,b){this.__updateSlidesHoriz(c,b)};MSSlideController.registerView("fadeWave",MSFadeWaveView)})();(function(d){window.MSFlowView=function(c){MSWaveView.call(this,c);this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")};
MSFlowView.extend(MSWaveView);MSFlowView._3dreq=!0;MSFlowView._fallback=MSFadeBasicView;d=MSFlowView.prototype;d.__updateSlidesHoriz=function(c,b){var a=Math.abs(100*b/this.__width),e=Math.min(.3*a,30)*(0>b?-1:1);c.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-(1.2*a)+"px) rotateY("+e+"deg) "};d.__updateSlidesVertic=function(c,b){var a=Math.abs(100*b/this.__width),e=Math.min(.3*a,30)*(0>b?-1:1);c.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-(1.2*a)+"px) rotateX("+
-e+"deg) "};MSSlideController.registerView("flow",MSFlowView)})(h);(function(){window.MSFadeFlowView=function(c){MSWaveView.call(this,c);this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")};MSFadeFlowView.extend(MSWaveView);MSFadeFlowView._3dreq=!0;var d=MSFadeFlowView.prototype;d.__calculate=function(c){var b=Math.min(Math.abs(100*c/this.__width),100);c=Math.min(.5*b,50)*(0>c?-1:1);return{value:b,rvalue:c}};d.__updateSlidesHoriz=function(c,b){var a=this.__calculate(b);c.$element.css("opacity",
1-a.value/300);console.log(window._jcsspfx+"transform","translateZ("+-a.value+"px) rotateY("+a.rvalue+"deg) ");c.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-a.value+"px) rotateY("+a.rvalue+"deg) "};d.__updateSlidesVertic=function(c,b){var a=this.__calculate(b);c.$element.css("opacity",1-a.value/300);c.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-a.value+"px) rotateX("+-a.rvalue+"deg) "};MSSlideController.registerView("fadeFlow",MSFadeFlowView)})();(function(d){window.MSMaskView=
function(a){MSBasicView.call(this,a);this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")};MSMaskView.extend(MSBasicView);var c=MSMaskView.prototype,b=MSBasicView.prototype;c.addSlide=function(a){a.view=this;a.$frame=d("<div></div>").addClass("ms-mask-frame").append(a.$element);a.$element[0].style.position="relative";a.autoAppend=!1;this.slides.push(a);this.slideList.push(a);this.slidesCount++};c.setSize=function(a,e){for(var c=this.slides[0].slider,d=0;d<this.slidesCount;++d)this.slides[d].$frame[0].style.width=
a+"px",c.options.autoHeight||(this.slides[d].$frame[0].style.height=e+"px");b.setSize.call(this,a,e)};c._horizUpdate=function(a,e){b._horizUpdate.call(this,a,e);var c=0;if(this.css3)for(c=0;c<this.slidesCount;++c)this.slideList[c].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(e-this.slideList[c].position)+"px)"+this.__translate_end;else for(c=0;c<this.slidesCount;++c)this.slideList[c].$element[0].style.left=e-this.slideList[c].position+"px"};c._vertiUpdate=function(a,e){b._vertiUpdate.call(this,
a,e);var c=0;if(this.css3)for(c=0;c<this.slidesCount;++c)this.slideList[c].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(e-this.slideList[c].position)+"px)"+this.__translate_end;else for(c=0;c<this.slidesCount;++c)this.slideList[c].$element[0].style.top=e-this.slideList[c].position+"px"};c.__pushEnd=function(){var a=this.slides.shift(),b=this.slides[this.slidesCount-2];this.slides.push(a);this.normalMode&&(b=b.$frame[0][this.__offset]+this.spacing+this[this.__dimension],a.$frame[0].style[this.__cssProb]=
b+"px",a.position=b)};c.__pushStart=function(){var a=this.slides.pop(),b=this.slides[0];this.slides.unshift(a);this.normalMode&&(b=b.$frame[0][this.__offset]-this.spacing-this[this.__dimension],a.$frame[0].style[this.__cssProb]=b+"px",a.position=b)};c.__updateViewList=function(){if(this.normalMode)this.viewSlidesList=this.slides;else{var a=this.viewSlidesList.slice();this.viewSlidesList=[];var b=0,c=Math.floor(this.options.viewNum/2);if(this.loop)for(;b!==this.options.viewNum;b++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-
c+b]);else{for(b=0;b!==c&&-1!==this.index-b;b++)this.viewSlidesList.unshift(this.slideList[this.index-b]);for(b=1;b!==c&&this.index+b!==this.slidesCount;b++)this.viewSlidesList.push(this.slideList[this.index+b])}b=0;for(c=a.length;b!==c;b++)-1===this.viewSlidesList.indexOf(a[b])&&(a[b].sleep(),a[b].$frame.detach())}};c.__locateSlides=function(a,b){this.__updateViewList();b=this.loop?b||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var c=this.viewSlidesList.length,
d,k=0;k!==c;k++){var l=b+k*(this[this.__dimension]+this.spacing);d=this.viewSlidesList[k];this.$slideCont.append(d.$frame);d.wakeup(!1);d.position=l;if(d.selected&&d.bgvideo)try{d.bgvideo.play()}catch(h){}d.$frame[0].style[this.__cssProb]=l+"px"}!1!==a&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)};MSSlideController.registerView("mask",MSMaskView)})(h);(function(d){window.MSParallaxMaskView=function(b){MSMaskView.call(this,b);this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")};
MSParallaxMaskView.extend(MSMaskView);MSParallaxMaskView.parallaxAmount=.5;d=MSParallaxMaskView.prototype;var c=MSBasicView.prototype;d._horizUpdate=function(b,a){c._horizUpdate.call(this,b,a);var e=0;if(this.css3)for(e=0;e<this.slidesCount;++e)this.slideList[e].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(a-this.slideList[e].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(e=0;e<this.slidesCount;++e)this.slideList[e].$element[0].style.left=(a-this.slideList[e].position)*
MSParallaxMaskView.parallaxAmount+"px"};d._vertiUpdate=function(b,a){c._vertiUpdate.call(this,b,a);var e=0;if(this.css3)for(e=0;e<this.slidesCount;++e)this.slideList[e].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(a-this.slideList[e].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(e=0;e<this.slidesCount;++e)this.slideList[e].$element[0].style.top=(a-this.slideList[e].position)*MSParallaxMaskView.parallaxAmount+"px"};MSSlideController.registerView("parallaxMask",
MSParallaxMaskView)})(h);(function(d){window.MSFadeView=function(b){MSBasicView.call(this,b);this.$element.removeClass("ms-basic-view").addClass("ms-fade-view");this.controller.renderCallback(this.__update,this)};MSFadeView.extend(MSBasicView);d=MSFadeView.prototype;var c=MSBasicView.prototype;d.__update=function(b,a){for(var c=-a,d,f,k=0;k<this.slidesCount;++k)d=this.slideList[k],f=-c-d.position,this.__updateSlides(d,f)};d.__updateSlides=function(b,a){var c=Math.abs(a/this[this.__dimension]);0>=
1-c?b.$element.fadeTo(0,0).css("visibility","hidden"):b.$element.fadeTo(0,1-c).css("visibility","")};d.__locateSlides=function(b,a){this.__updateViewList();a=this.loop?a||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var c=this.viewSlidesList.length,d,f=0;f!==c;f++){var k=a+f*this[this.__dimension];d=this.viewSlidesList[f];d.wakeup();d.position=k}!1!==b&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)};d.__pushEnd=function(){var b=
this.slides.shift(),a=this.slides[this.slidesCount-2];this.slides.push(b);b.position=a.position+this[this.__dimension]};d.__pushStart=function(){var b=this.slides.pop(),a=this.slides[0];this.slides.unshift(b);b.position=a.position-this[this.__dimension]};d.create=function(b){c.create.call(this,b);this.spacing=0;this.controller.options.minValidDist=10};MSSlideController.registerView("fade",MSFadeView)})(h);(function(d){window.MSScaleView=function(b){MSBasicView.call(this,b);this.$element.removeClass("ms-basic-view").addClass("ms-scale-view");
this.controller.renderCallback(this.__update,this)};MSScaleView.extend(MSFadeView);d=MSScaleView.prototype;var c=MSFadeView.prototype;d.__updateSlides=function(b,a){var c=Math.abs(a/this[this.__dimension]),d=b.$element[0];0>=1-c?(d.style.opacity=0,d.style.visibility="hidden",d.style[window._jcsspfx+"Transform"]=""):(d.style.opacity=1-c,d.style.visibility="",d.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+c*(0>a?-.5:.5)*300+"px)")};d.create=function(b){c.create.call(this,b);
this.controller.options.minValidDist=.03};MSSlideController.registerView("scale",MSScaleView)})(h);(function(d){window.MSStackView=function(b){MSBasicView.call(this,b);this.$element.removeClass("ms-basic-view").addClass("ms-stack-view");this.controller.renderCallback(this.__update,this);this.autoUpdateZIndex=!0};MSStackView.extend(MSFadeView);MSStackView._3dreq=!0;MSStackView._fallback=MSFadeView;d=MSStackView.prototype;var c=MSFadeView.prototype;d.__updateSlidesZindex=function(){for(var b=this.viewSlidesList.length,
a=0;a!==b;a++)this.viewSlidesList[a].$element.css("z-index",b-a)};d.__updateSlides=function(b,a){var c=Math.abs(a/this[this.__dimension]),d=b.$element[0];0>=1-c?(d.style.opacity=1,d.style.visibility="hidden",d.style[window._jcsspfx+"Transform"]=""):(d.style.visibility="",d.style[window._jcsspfx+"Transform"]=0>a?"perspective(2000px) translateZ("+-300*c+"px)":this.__translate+"("+-c*this[this.__dimension]+"px)")};d.create=function(b){c.create.call(this,b);this.controller.options.minValidDist=.03;this.__translate=
"h"===this.dir?"translateX":"translateY"};MSSlideController.registerView("stack",MSStackView)})(h);(function(){window.MSFocusView=function(c){MSWaveView.call(this,c);this.$element.removeClass("ms-wave-view").addClass("ms-focus-view");this.options.centerSpace=this.options.centerSpace||1};MSFocusView.extend(MSWaveView);MSFocusView._3dreq=!0;MSFocusView._fallback=MSFadeBasicView;var d=MSFocusView.prototype;d.__calcview=function(c,b){return b/2*c/(c+2E3)*(c+2E3)/2E3};d.__updateSlidesHoriz=function(c,
b){var a=Math.abs(100*b/this.__width),a=15*-Math.min(a,100);c.$element.css(window._csspfx+"transform","translateZ("+(a+1)+"px) rotateY(0.01deg) translateX("+(0>b?1:-1)*-this.__calcview(a,this.__width)*this.options.centerSpace+"px)")};d.__updateSlidesVertic=function(c,b){var a=Math.abs(100*b/this.__width),a=15*-Math.min(a,100);c.$element.css(window._csspfx+"transform","translateZ("+(a+1)+"px) rotateY(0.01deg) translateY("+(0>b?1:-1)*-this.__calcview(a,this.__width)*this.options.centerSpace+"px)")};
MSSlideController.registerView("focus",MSFocusView)})();(function(){window.MSPartialWaveView=function(c){MSWaveView.call(this,c);this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")};MSPartialWaveView.extend(MSWaveView);MSPartialWaveView._3dreq=!0;MSPartialWaveView._fallback=MSFadeBasicView;var d=MSPartialWaveView.prototype;d.__updateSlidesHoriz=function(c,b){var a=Math.abs(100*b/this.__width);c.hasBG&&c.$bg_img.css("opacity",(100-Math.abs(120*b/this.__width/3))/100);c.$element.css(window._csspfx+
"transform","translateZ("+3*-a+"px) rotateY(0.01deg) translateX("+.75*b+"px)")};d.__updateSlidesVertic=function(c,b){var a=Math.abs(100*b/this.__width);c.hasBG&&c.$bg_img.css("opacity",(100-Math.abs(120*b/this.__width/3))/100);c.$element.css(window._csspfx+"transform","translateZ("+3*-a+"px) rotateY(0.01deg) translateY("+.75*b+"px)")};MSSlideController.registerView("partialWave",MSPartialWaveView)})();(function(d){var c=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0}},b=c.prototype;
b.slideAction=function(a){};b.setup=function(){this.cont=this.options.insertTo?d(this.options.insertTo):this.slider.$controlsCont;this.options.overVideo||this._hideOnvideoStarts()};b.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&!1===this.options.inset,d(window).bind("resize",{that:this},this.onResize),this.onResize())};b.onResize=function(a){a=a&&a.data.that||this;var b=window.innerWidth;b<=
a.options.hideUnder&&!a.detached?(a.hide(!0),a.detached=!0,a.onDetach()):b>=a.options.hideUnder&&a.detached&&(a.detached=!1,a.visible(),a.onAppend())};b.create=function(){this.options.autohide&&!window._touch&&(this.hide(!0),this.slider.$controlsCont.mouseenter(d.proxy(this._onMouseEnter,this)).mouseleave(d.proxy(this._onMouseLeave,this)).mousedown(d.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter(d.proxy(this._onMouseEnter,this)).mouseleave(d.proxy(this._onMouseLeave,this)).mousedown(d.proxy(this._onMouseDown,
this)),d(document).mouseup(d.proxy(this._onMouseUp,this)));this.options.align&&this.$element.addClass("ms-align-"+this.options.align)};b._onMouseEnter=function(){this._disableAH||this.mdown||this.visible();this.mleave=!1};b._onMouseLeave=function(){this.mdown||this.hide();this.mleave=!0};b._onMouseDown=function(){this.mdown=!0};b._onMouseUp=function(){this.mdown&&this.mleave&&this.hide();this.mdown=!1};b.onAppend=function(){this.needsRealign&&this.slider._realignControls()};b.onDetach=function(){this.needsRealign&&
this.slider._realignControls()};b._hideOnvideoStarts=function(){var a=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){a._disableAH=!0;a.hide()});this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){a._disableAH=!1;a.visible()})};b.hide=function(a){if(a)this.$element.css("opacity",0),this.$element.css("display","none");else{clearTimeout(this.hideTo);var b=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut(b,400,!1)},20)}this.$element.addClass("ms-ctrl-hide")};
b.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))};b.destroy=function(){this.options&&this.options.hideUnder&&d(window).unbind("resize",this.onResize)};window.BaseControl=c})(h);(function(d){var c=function(a){BaseControl.call(this);d.extend(this.options,a)};c.extend(BaseControl);var b=c.prototype,a=BaseControl.prototype;b.setup=function(){var b=this;this.$next=d("<div></div>").addClass(this.options.prefix+
"nav-next").bind("click",function(){b.slider.api.next(!0)});this.$prev=d("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){b.slider.api.previous(!0)});a.setup.call(this);this.cont.append(this.$next);this.cont.append(this.$prev);this.checkHideUnder()};b.hide=function(a){a?(this.$prev.css("opacity",0).css("display","none"),this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),
this.$next.addClass("ms-ctrl-hide"))};b.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))};b.destroy=function(){a.destroy();this.$next.remove();this.$prev.remove()};window.MSArrows=c;MSSlideController.registerControl("arrows",c)})(h);(function(d){var c=function(a){BaseControl.call(this);this.options.dir="h";this.options.wheel="v"===a.dir;this.options.arrows=
!1;this.options.speed=17;this.options.align=null;this.options.inset=!1;this.options.margin=10;this.options.space=10;this.options.width=100;this.options.height=100;this.options.type="thumbs";this.options.hover=!1;d.extend(this.options,a);this.thumbs=[];this.index_count=0;this.__dimen="h"===this.options.dir?"width":"height";this.__alignsize="h"===this.options.dir?"height":"width";this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight";this.__pos="h"===this.options.dir?"left":"top";this.click_enable=
!0};c.extend(BaseControl);var b=c.prototype,a=BaseControl.prototype;b.setup=function(){this.$element=d("<div></div>").addClass(this.options.prefix+"thumb-list");"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs");this.$element.addClass("ms-dir-"+this.options.dir);a.setup.call(this);this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont);this.$thumbscont=d("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element);
if(this.options.arrows){var b=this;this.$fwd=d("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){b.controller.push(-15)});this.$bwd=d("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){b.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var c=this.options.align;this.options.inset?this.$element.css(c,this.options.margin):"top"===c?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,
position:"relative"}):"bottom"===c?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align());"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()};b.align=function(a){if(!this.detached){a=this.options.align;var b=this.slider.reserveSpace(a,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(a,
-b-this.options[this.__alignsize]-this.options.margin)}};b.slideAction=function(a){a=a.$element.find(".ms-thumb");var b=this,c=d("<div></div>").addClass("ms-thumb-frame").append(a).append(d('<div class="ms-thumb-ol"></div>')).bind(this.options.hover?"hover":"click",function(){b.changeSlide(c)});this.options.align&&c.width(this.options.width-("v"===this.options.dir&&"tabs"===this.options.type?12:0)).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space);
c[0].index=this.index_count++;this.$thumbscont.append(c);if(this.options.fillMode&&a.is("img")){var k=new window.MSAligner(this.options.fillMode,c,a);a[0].aligner=k;a.one("load",function(a){a=d(this);a[0].aligner.init(a.width(),a.height());a[0].aligner.align()}).each(d.jqLoadFix)}if(d.browser.msie)a.on("dragstart",function(a){a.preventDefault()});this.thumbs.push(c)};b.create=function(){a.create.call(this);this.__translate_end=window._css3d?" translateZ(0px)":"";this.controller=new Controller(0,0,
{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100});this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var b=this;this.resize_listener=function(){b.__resize()};d(window).bind("resize",this.resize_listener);this.thumbSize=this.thumbs[0][this.__jdimen](!0);this.setupSwipe();this.__resize();b=this;this.options.wheel&&(this.wheellistener=function(a){a=window.event||a.orginalEvent||a;a=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));b.controller.push(10*-a);
return!1},d.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener));this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this);this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this);this.cindex=this.slider.api.index();this.select(this.thumbs[this.cindex])};b._hMove=function(a,b){this.__contPos=b;window._cssanim?this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+
-b+"px)"+this.__translate_end:this.$thumbscont[0].style.left=-b+"px"};b._vMove=function(a,b){this.__contPos=b;window._cssanim?this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-b+"px)"+this.__translate_end:this.$thumbscont[0].style.top=-b+"px"};b.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element);this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var a=this;this.swipeControl.onSwipe="h"===this.options.dir?function(b){a.horizSwipeMove(b)}:
function(b){a.vertSwipeMove(b)}};b.vertSwipeMove=function(a){if(!this.dTouch){var b=a.phase;if("start"===b)this.controller.stop();else if("move"===b)this.controller.drag(a.moveY);else if("end"===b||"cancel"===b).1<Math.abs(a.distanceY/a.duration*50/3)?this.controller.push(-a.distanceY/a.duration*50/3):(this.click_enable=!0,this.controller.cancel())}};b.horizSwipeMove=function(a){if(!this.dTouch){var b=a.phase;if("start"===b)this.controller.stop(),this.click_enable=!1;else if("move"===b)this.controller.drag(a.moveX);
else if("end"===b||"cancel"===b).1<Math.abs(a.distanceX/a.duration*50/3)?this.controller.push(-a.distanceX/a.duration*50/3):(this.click_enable=!0,this.controller.cancel())}};b.update=function(){var a=this.slider.api.index();this.cindex!==a&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=a,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())};b.realignThumbs=function(){this.$element.find(".ms-thumb").each(function(a,b){b.aligner&&b.aligner.align()})};
b.updateThumbscroll=function(){var a=this.thumbSize*this.cindex;NaN==this.controller.value&&(this.controller.value=0);0>a-this.controller.value?this.controller.gotoSnap(this.cindex,!0):a+this.thumbSize-this.controller.value>this.$element[this.__dimen]()&&(a=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1,this.controller.gotoSnap(a,!0))};b.changeSlide=function(a){this.click_enable&&this.cindex!==a[0].index&&this.slider.api.gotoSlide(a[0].index)};b.unselect=function(a){a.removeClass("ms-thumb-frame-selected")};
b.select=function(a){a.addClass("ms-thumb-frame-selected")};b.__resize=function(){var a=this.$element[this.__dimen]();if(this.ls!==a){this.ls=a;this.thumbSize=this.thumbs[0][this.__jdimen](!0);var b=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=b+"px";b<=a?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(a-b)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]=
"",this.controller._max_value=b-a,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}};b.destroy=function(){a.destroy();this.options.wheel&&(d.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null);d(window).unbind("resize",this.resize_listener);this.$element.remove();this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this);this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,
this.update,this)};window.MSThumblist=c;MSSlideController.registerControl("thumblist",c)})(h);(function(d){var c=function(a){BaseControl.call(this);this.options.dir="h";this.options.inset=!0;this.options.margin=10;this.options.space=10;d.extend(this.options,a);this.bullets=[]};c.extend(BaseControl);var b=c.prototype,a=BaseControl.prototype;b.setup=function(){a.setup.call(this);this.$element=d("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont);
this.$bullet_cont=d("<div></div>").addClass("ms-bullets-count").appendTo(this.$element);if(!this.options.insetTo&&this.options.align){var b=this.options.align;this.options.inset&&this.$element.css(b,this.options.margin)}this.checkHideUnder()};b.create=function(){a.create.call(this);var b=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this);this.cindex=this.slider.api.index();for(var c=0;c<this.slider.api.count();++c){var f=d("<div></div>").addClass("ms-bullet");f[0].index=
c;f.on("click",function(){b.changeSlide(this.index)});this.$bullet_cont.append(f);this.bullets.push(f);"h"===this.options.dir?f.css("margin",this.options.space/2):f.css("margin",this.options.space)}"h"===this.options.dir?this.$element.width(f.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2);this.select(this.bullets[this.cindex])};b.update=function(){var a=this.slider.api.index();this.cindex!==a&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),
this.cindex=a,this.select(this.bullets[this.cindex]))};b.changeSlide=function(a){this.cindex!==a&&this.slider.api.gotoSlide(a)};b.unselect=function(a){a.removeClass("ms-bullet-selected")};b.select=function(a){a.addClass("ms-bullet-selected")};b.destroy=function(){a.destroy();this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this);this.$element.remove()};window.MSBulltes=c;MSSlideController.registerControl("bullets",c)})(h);(function(d){var c=function(a){BaseControl.call(this);
this.options.dir="h";this.options.autohide=!0;this.options.width=4;this.options.color="#3D3D3D";this.options.margin=10;d.extend(this.options,a);this.__dimen="h"===this.options.dir?"width":"height";this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight";this.__pos="h"===this.options.dir?"left":"top";this.__translate_end=window._css3d?" translateZ(0px)":"";this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};c.extend(BaseControl);var b=c.prototype,a=BaseControl.prototype;
b.setup=function(){this.$element=d("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir);a.setup.call(this);this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont);this.$bar=d("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element);this.slider.options.loop&&(console.log("WARNING, MSScrollbar cannot work with looped slider."),this.disable=!0,this.$element.remove());"v"===this.options.dir?
this.$bar.width(this.options.width):this.$bar.height(this.options.width);this.$bar.css("background-color",this.options.color);if(!this.options.insetTo&&this.options.align){"v"===this.options.dir?this.$element.css({right:"auto",left:"auto"}):this.$element.css({top:"auto",bottom:"auto"});var b=this.options.align;this.options.inset?this.$element.css(b,this.options.margin):"top"===b?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===
b?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()};b.align=function(a){if(!this.detached){a=this.options.align;var b=this.slider.reserveSpace(a,2*this.options.margin+this.options.width);this.$element.css(a,-b-this.options.margin-this.options.width)}};b.create=function(){this.disable||(this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,
this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0"))};b._resize=function(){this.vdimen=this.$element[this.__dimen]();this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value;this.$bar[this.__dimen](this.bar_dimen)};b._update=function(){var a=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==a){this.lvalue=a;if(this.options.autohide){clearTimeout(this.hto);
this.$bar.css("opacity","1");var b=this;this.hto=setTimeout(function(){b.$bar.css("opacity","0")},150)}0>a?this.$bar[0].style[this.__dimen]=this.bar_dimen+a+"px":(a>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-a+"px"),window._cssanim?this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+a+"px)"+this.__translate_end:this.$bar[0].style[this.__pos]=a+"px")}};b.destroy=function(){a.destroy();this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,
this);this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this);this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this);this.$element.remove()};window.MSScrollbar=c;MSSlideController.registerControl("scrollbar",c)})(h);(function(d){var c=function(a){BaseControl.call(this);this.options.autohide=!1;this.options.width=4;this.options.color="#FFFFFF";this.options.inset=!0;this.options.margin=0;d.extend(this.options,a)};c.extend(BaseControl);var b=c.prototype,
a=BaseControl.prototype;b.setup=function(){a.setup.call(this);this.$element=d("<div></div>").addClass(this.options.prefix+"timerbar");a.setup.call(this);this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont);this.$bar=d("<div></div>").addClass("ms-time-bar").appendTo(this.$element);"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width));
this.$bar.css("background-color",this.options.color);if(!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var b=this.options.align;this.options.inset?this.$element.css(b,this.options.margin):"top"===b?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===b?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,
this.align,this),this.align())}this.checkHideUnder()};b.align=function(a){if(!this.detached){a=this.options.align;var b=this.slider.reserveSpace(a,2*this.options.margin+this.options.width);this.$element.css(a,-b-this.options.margin-this.options.width)}};b.create=function(){a.create.call(this);this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);this._update()};b._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"};b.destroy=function(){a.destroy();this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,
this.align,this);this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this);this.$element.remove()};window.MSTimerbar=c;MSSlideController.registerControl("timebar",c)})(h);(function(d){var c=function(a){BaseControl.call(this);this.options.color="#A2A2A2";this.options.stroke=10;this.options.radius=4;this.options.autohide=!1;d.extend(this.options,a)};c.extend(BaseControl);var b=c.prototype,a=BaseControl.prototype;b.setup=function(){a.setup.call(this);this.$element=d("<div></div>").addClass(this.options.prefix+
"ctimer").appendTo(this.cont);this.$canvas=d("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element);this.$bar=d("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element);this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,this.checkHideUnder()):(this.destroy(),this.disable=!0)};b.create=function(){if(!this.disable){a.create.call(this);
this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var b=this;this.$element.click(function(){b.slider.api.paused?b.slider.api.resume():b.slider.api.pause()});this._update()}};b._update=function(){var a=this;d(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){a._draw()}})};b._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w);this.ctx.beginPath();this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+
2*Math.PI*this.prog,!1);this.ctx.strokeStyle=this.options.color;this.ctx.lineWidth=this.options.stroke;this.ctx.stroke()};b.destroy=function(){a.destroy();this.disable||(d(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())};window.MSCircleTimer=c;MSSlideController.registerControl("circletimer",c)})(h);(function(d){window.MSLightbox=function(a){BaseControl.call(this,a);this.options.autohide=!1;d.extend(this.options,a);this.data_list=
[]};MSLightbox.fadeDuratation=400;MSLightbox.extend(BaseControl);var c=MSLightbox.prototype,b=BaseControl.prototype;c.setup=function(){b.setup.call(this);this.$element=d("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont);this.checkHideUnder()};c.slideAction=function(a){d("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(a.$element).append(d(a.$element.find(".ms-lightbox")))};c.create=function(){b.create.call(this)};MSSlideController.registerControl("lightbox",
MSLightbox)})(h);(function(d){window.MSSlideInfo=function(a){BaseControl.call(this,a);this.options.autohide=!1;this.options.align=null;this.options.inset=!1;this.options.margin=10;this.options.size=100;this.options.dir="h";d.extend(this.options,a);this.data_list=[]};MSSlideInfo.fadeDuratation=400;MSSlideInfo.extend(BaseControl);var c=MSSlideInfo.prototype,b=BaseControl.prototype;c.setup=function(){this.$element=d("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir);
b.setup.call(this);this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont);if(!this.options.insetTo&&this.options.align){var a=this.options.align;this.options.inset?this.$element.css(a,this.options.margin):"top"===a?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===a?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,
this.align,this),this.align());"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()};c.align=function(a){if(!this.detached){a=this.options.align;var b=this.slider.reserveSpace(a,this.options.size+2*this.options.margin);this.$element.css(a,-b-this.options.size-this.options.margin)}};c.slideAction=function(a){var b=d(a.$element.find(".ms-info"));b.detach();this.data_list[a.index]=b};c.create=function(){b.create.call(this);
this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this);this.cindex=this.slider.api.index();this.switchEle(this.data_list[this.cindex])};c.update=function(){var a=this.slider.api.index();this.switchEle(this.data_list[a]);this.cindex=a};c.switchEle=function(a){this.current_ele&&(this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach();this[0].tween=
null;a.css("position","relative")},target:this.current_ele}),a.css("position","absolute"));this.__show(a)};c.__show=function(a){a.appendTo(this.$element).css("opacity","0");this.current_ele&&a.height(Math.max(a.height(),this.current_ele.height()));clearTimeout(this.tou);this.tou=setTimeout(function(){CTween.fadeIn(a,MSSlideInfo.fadeDuratation);a.css("height","")},MSSlideInfo.fadeDuratation);a[0].tween&&a[0].tween.stop(!0);this.current_ele=a};c.destroy=function(){b.destroy();clearTimeout(this.tou);
this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true");this.$element.remove();this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this);this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)};MSSlideController.registerControl("slideinfo",MSSlideInfo)})(h);(function(d){window.MSGallery=function(b,a){this.id=b;this.slider=a;this.telement=d("#"+b);this.botcont=d("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement);
this.thumbcont=d("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont);this.playbtn=d("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont);this.thumbtoggle=d("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont);a.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"});a.control("slidenum",{insertTo:this.botcont,autohide:!1});a.control("slideinfo",{insertTo:this.botcont,autohide:!1});a.control("timebar",{insertTo:this.botcont,autohide:!1});
a.control("bullets",{insertTo:this.botcont,autohide:!1})};var c=MSGallery.prototype;c._init=function(){var b=this;this.slider.api.paused||this.playbtn.addClass("btn-pause");this.playbtn.click(function(){b.slider.api.paused?(b.slider.api.resume(),b.playbtn.addClass("btn-pause")):(b.slider.api.pause(),b.playbtn.removeClass("btn-pause"))});this.thumbtoggle.click(function(){b.vthumbs?(b.thumbtoggle.removeClass("btn-hide"),b.vthumbs=!1,b.thumbcont.addClass("hide-thumbs")):(b.thumbtoggle.addClass("btn-hide"),
b.thumbcont.removeClass("hide-thumbs"),b.vthumbs=!0)})};c.setup=function(){var b=this;d(document).ready(function(){b._init()})}})(h);(function(d){var c=function(a,b,c,d,h,p){return"_o"===h&&p?p.url_o:"https://farm"+a+".staticflickr.com/"+b+"/"+c+"_"+d+h+".jpg"};window.MSFlickrV2=function(a,b){var c={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};this.slider=a;this.slider.holdOn();if(b.key){d.extend(c,b);this.options=c;var k=this;"photoset"===this.options.type?d.getJSON("https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+
this.options.key+"&photoset_id="+this.options.id+"&per_page="+this.options.count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?",function(a){k._photosData(a)}):d.getJSON("https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+this.options.key+"&user_id="+this.options.id+"&per_page="+this.options.count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?",function(a){k.options.type="photos";k._photosData(a)});
""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize="_"+this.options.imgSize);this.options.thumbSize="_"+this.options.thumbSize;this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML;this.slider.$element.find(".ms-slide").remove()}else this.errMsg("Flickr API Key required. Please add it in settings.")};var b=MSFlickrV2.prototype;b._photosData=function(b){if("fail"===b.stat)this.errMsg("Flickr API ERROR#"+b.code+": "+b.message);else{var c=this;d.each(b[this.options.type].photo,
function(b,e){var h=c.slideTemplate.replace(/{{[\w-]+}}/g,function(b){b=b.replace(/{{|}}/g,"");return a[b]?a[b](e,c):"["+b+"]"});d(h).appendTo(c.slider.$element)});c._initSlider()}};b.errMsg=function(a){this.slider.$element.css("display","block");this.errEle||(this.errEle=d('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading));this.errEle.html(a)};b._initSlider=function(){this.slider.release()};var a={image:function(a,
b){return c(a.farm,a.server,a.id,a.secret,b.options.imgSize,a)},thumb:function(a,b){return c(a.farm,a.server,a.id,a.secret,b.options.thumbSize)},title:function(a,b){return a.title},"owner-name":function(a,b){return a.ownername},"date-taken":function(a,b){return a.datetaken},views:function(a,b){return a.views},description:function(a,b){return a.description._content}}})(h);(function(d){window.MSFacebookGallery=function(a,b){var c={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1};
this.slider=a;this.slider.holdOn();d.extend(c,b);this.options=c;this.graph=this.options.https?"https://graph.facebook.com":"http://graph.facebook.com";var h=this;"photostream"===this.options.type?d.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count,function(a){h._photosData(a)}):d.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count,function(a){h._photosData(a)});
this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML;this.slider.$element.find(".ms-slide").remove()};var c=MSFacebookGallery.prototype;c._photosData=function(b){if(b.error)this.errMsg("Facebook API ERROR#"+b.error.code+"("+b.error.type+"): "+b.error.message);else{for(var c=this,f=0,h=b.data.length;f!==h;f++){var l=c.slideTemplate.replace(/{{[\w-]+}}/g,function(d){d=d.replace(/{{|}}/g,"");return a[d]?a[d](b.data[f],c):"{{"+d+"}}"});d(l).appendTo(c.slider.$element)}c._initSlider()}};
c.errMsg=function(a){this.slider.$element.css("display","block");this.errEle||(this.errEle=d('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading));this.errEle.html(a)};c._initSlider=function(){this.slider.release()};var b=function(a,b){if("orginal"===b)return a[0].source;for(var c=0,d=a.length;c!==d;c++)if(-1!==a[c].source.indexOf(b+"x"+b))return a[c].source;return a[d-3].source},a={image:function(a,c){return b(a.images,
c.options.imgSize)},thumb:function(a,c){return b(a.images,c.options.thumbSize)},name:function(a,b){return a.name},"owner-name":function(a,b){return a.from.name},link:function(a,b){return a.link}}})(h);(function(d){window.MSScrollParallax=function(b,a,c,d){this.fade=d;this.slider=b;this.parallax=a/100;this.bgparallax=c/100;b.api.addEventListener(MSSliderEvent.INIT,this.init,this);b.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this);b.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,
this);b.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)};window.MSScrollParallax.setup=function(b,a,c,d){if(!window._mobile)return null==a&&(a=50),null==c&&(c=40),new MSScrollParallax(b,a,c,d)};var c=window.MSScrollParallax.prototype;c.init=function(b){this.slider.$element.addClass("ms-scroll-parallax");this.sliderOffset=this.slider.$element.offset().top;this.updateCurrentSlide();b=this.slider.api.view.slideList;for(var a,c=0,g=b.length;c!==g;c++)a=b[c],a.$layers&&(a.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),
a.$scrollParallaxCont=a.$layers.parent());d(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")};c.resetLayers=function(b){this.lastSlide&&(b=this.lastSlide.$scrollParallaxCont,window._css2d?(b&&(b[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]="")):(b&&(b[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px")))};c.updateCurrentSlide=function(b){this.lastSlide=this.currentSlide;
this.currentSlide=this.slider.api.currentSlide;this.moveParallax({data:{that:this}})};c.moveParallax=function(b){b=b.data.that;var a=b.slider,c=b.sliderOffset,g=d(window).scrollTop(),f=b.currentSlide.$scrollParallaxCont,c=c-g;0>=c?(f&&(window._css3d?f[0].style[window._jcsspfx+"Transform"]="translateY("+-c*b.parallax+"px) translateZ(0.4px)":window._css2d?f[0].style[window._jcsspfx+"Transform"]="translateY("+-c*b.parallax+"px)":f[0].style.top=-c*b.parallax+"px"),b.updateSlidesBG(-c*b.bgparallax+"px",
!0),f&&b.fade&&f.css("opacity",1-Math.min(1,-c/a.api.height))):(f&&(window._css2d?f[0].style[window._jcsspfx+"Transform"]="":f[0].style.top=""),b.updateSlidesBG("0px",!1),f&&b.fade&&f.css("opacity",1))};c.updateSlidesBG=function(b,a){for(var c=this.slider.api.view.slideList,g=!a||d.browser.msie||d.browser.opera?"":"fixed",f=0,h=c.length;f!==h;f++)c[f].hasBG&&(c[f].$imgcont[0].style.position=g,c[f].$imgcont[0].style.top=b),c[f].$bgvideocont&&(c[f].$bgvideocont[0].style.position=g,c[f].$bgvideocont[0].style.top=
b)};c.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this);slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this);slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this);slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this);d(window).off("scroll",this.moveParallax)}})(h);(function(d,c,b){var a=0;if(b.Multislider){b=function(b){this.slider=b;this.PId=a++;this.slider.options.keyboard&&b.api.addEventListener(MSSliderEvent.INIT,
this.init,this)};b.name="MSKeyboardNav";var e=b.prototype;e.init=function(){var a=this.slider.api;d(c).on("keydown.kbnav"+this.PId,function(b){b=b.which;37===b||40===b?a.previous(!0):38!==b&&39!==b||a.next(!0)})};e.destroy=function(){d(c).off("keydown.kbnav"+this.PId);this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)};Multislider.registerPlugin(b)}})(h,document,window);(function(d,c,b){var a=0,e=d(b),g=d(c);b.Multislider&&(c=function(b){this.PId=a++;this.slider=b;this.$slider=
b.$element;this.slider.options.startOnAppear&&(b.holdOn(),g.ready(d.proxy(this.init,this)))},c.name="MSStartOnAppear",b=c.prototype,b.init=function(){e.on("scroll.soa"+this.PId,d.proxy(this._onScroll,this)).trigger("scroll")},b._onScroll=function(){var a=e.scrollTop()+e.height();this.$slider.offset().top<a&&(e.off("scroll.soa"+this.PId),this.slider.release())},b.destroy=function(){},Multislider.registerPlugin(c))})(h,document,window);(function(d,c,b){var a={opacity:1,contrast:1,brightness:1,saturate:1,
"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};c.Multislider&&(d=function(a){this.slider=a;this.slider.options.filters&&a.api.addEventListener(MSSliderEvent.INIT,this.init,this)},d.name="MSFilters",c=d.prototype,c.init=function(){var a=this.slider.api.view;this.filters=this.slider.options.filters;this.slideList=a.slideList;this.slidesCount=a.slidesCount;this.dimension=a[a.__dimension];this.target="slide"===this.slider.options.filterTarget?"$element":"$bg_img";this.filterName=h.browser.webkit?
"WebkitFilter":"filter";var b=a.controller.__renderHook.fun,c=a.controller.__renderHook.ref;a.controller.renderCallback(function(a,d){b.call(c,a,d);this.applyEffect(d)},this);this.applyEffect(a.controller.value)},c.applyEffect=function(a){for(var b,c,d=0;d<this.slidesCount;++d)c=this.slideList[d],b=Math.min(1,Math.abs(a-c.position)/this.dimension),c[this.target]&&(h.browser.msie?null!=this.filters.opacity&&c[this.target].opacity(1-this.filters.opacity*b):c[this.target][0].style[this.filterName]=this.generateStyle(b))},
c.generateStyle=function(b){var c="",d;for(d in this.filters)c+=d+"("+(a[d]+(this.filters[d]-a[d])*b)+") ";return c},c.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},Multislider.registerPlugin(d))})(document,window,h)})(eds1_10);